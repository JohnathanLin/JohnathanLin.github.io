<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[JavaScript]JS基础知识 | 风萧古道 - 勤学苦练，年复一年</title><meta name=keywords content><meta name=description content="[JavaScript]JS基础知识（上） 变量类型及计算 变量类型 值类型 vs 引用类型
值类型：
var a = 100 var b = a a = 200 console.log(b) //100 引用类型：
var a = {age:20} var b = a b.age = 21 console.log(a.age) //21 引用类型：对象、数组和函数
特点：无限扩展属性，内存占用可能过大，故共用内存空间以节省空间
Typeof运算符详解 typeof undefined	//undefined typeof 'abc'	//string typeof 123	//number typeof true	//boolean typeof {}	//object typeof []	//object typeof null	//object typeof console.log	//function 注：null也是对象
1~4行是值类型，5~8行是引用类型，但JS只能区分函数与非函数，而不能区分数组和对象。
变量计算 强制类型转换 字符串拼接 var a = 100 + 10 var b = 100 + '10' console."><meta name=author content="JohnathanLin"><link rel=canonical href=https://windypath.com/posts/javascript_basic_knowledge/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.e2119904c869e6dd59c3e68c9aebccfb0afeffdff8202b39ab9cd2d1f7c2bd89.css integrity="sha256-4hGZBMhp5t1Zw+aMmuvM+wr+/9/4ICs5q5zS0ffCvYk=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://windypath.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://windypath.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://windypath.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://windypath.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://windypath.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://windypath.com/posts/javascript_basic_knowledge/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="[JavaScript]JS基础知识"><meta property="og:description" content="[JavaScript]JS基础知识（上） 变量类型及计算 变量类型 值类型 vs 引用类型
值类型：
var a = 100 var b = a a = 200 console.log(b) //100 引用类型：
var a = {age:20} var b = a b.age = 21 console.log(a.age) //21 引用类型：对象、数组和函数
特点：无限扩展属性，内存占用可能过大，故共用内存空间以节省空间
Typeof运算符详解 typeof undefined	//undefined typeof 'abc'	//string typeof 123	//number typeof true	//boolean typeof {}	//object typeof []	//object typeof null	//object typeof console.log	//function 注：null也是对象
1~4行是值类型，5~8行是引用类型，但JS只能区分函数与非函数，而不能区分数组和对象。
变量计算 强制类型转换 字符串拼接 var a = 100 + 10 var b = 100 + '10' console."><meta property="og:type" content="article"><meta property="og:url" content="https://windypath.com/posts/javascript_basic_knowledge/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-06-06T21:32:09+08:00"><meta property="article:modified_time" content="2018-06-06T21:32:09+08:00"><meta property="og:site_name" content="风萧古道 - 勤学苦练，年复一年"><meta name=twitter:card content="summary"><meta name=twitter:title content="[JavaScript]JS基础知识"><meta name=twitter:description content="[JavaScript]JS基础知识（上） 变量类型及计算 变量类型 值类型 vs 引用类型
值类型：
var a = 100 var b = a a = 200 console.log(b) //100 引用类型：
var a = {age:20} var b = a b.age = 21 console.log(a.age) //21 引用类型：对象、数组和函数
特点：无限扩展属性，内存占用可能过大，故共用内存空间以节省空间
Typeof运算符详解 typeof undefined	//undefined typeof 'abc'	//string typeof 123	//number typeof true	//boolean typeof {}	//object typeof []	//object typeof null	//object typeof console.log	//function 注：null也是对象
1~4行是值类型，5~8行是引用类型，但JS只能区分函数与非函数，而不能区分数组和对象。
变量计算 强制类型转换 字符串拼接 var a = 100 + 10 var b = 100 + '10' console."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://windypath.com/posts/"},{"@type":"ListItem","position":2,"name":"[JavaScript]JS基础知识","item":"https://windypath.com/posts/javascript_basic_knowledge/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[JavaScript]JS基础知识","name":"[JavaScript]JS基础知识","description":"[JavaScript]JS基础知识（上） 变量类型及计算 变量类型 值类型 vs 引用类型\n值类型：\nvar a = 100 var b = a a = 200 console.log(b) //100 引用类型：\nvar a = {age:20} var b = a b.age = 21 console.log(a.age) //21 引用类型：对象、数组和函数\n特点：无限扩展属性，内存占用可能过大，故共用内存空间以节省空间\nTypeof运算符详解 typeof undefined\t//undefined typeof \u0026#39;abc\u0026#39;\t//string typeof 123\t//number typeof true\t//boolean typeof {}\t//object typeof []\t//object typeof null\t//object typeof console.log\t//function 注：null也是对象\n1~4行是值类型，5~8行是引用类型，但JS只能区分函数与非函数，而不能区分数组和对象。\n变量计算 强制类型转换 字符串拼接 var a = 100 + 10 var b = 100 + \u0026#39;10\u0026#39; console.","keywords":[],"articleBody":"[JavaScript]JS基础知识（上） 变量类型及计算 变量类型 值类型 vs 引用类型\n值类型：\nvar a = 100 var b = a a = 200 console.log(b) //100 引用类型：\nvar a = {age:20} var b = a b.age = 21 console.log(a.age) //21 引用类型：对象、数组和函数\n特点：无限扩展属性，内存占用可能过大，故共用内存空间以节省空间\nTypeof运算符详解 typeof undefined\t//undefined typeof 'abc'\t//string typeof 123\t//number typeof true\t//boolean typeof {}\t//object typeof []\t//object typeof null\t//object typeof console.log\t//function 注：null也是对象\n1~4行是值类型，5~8行是引用类型，但JS只能区分函数与非函数，而不能区分数组和对象。\n变量计算 强制类型转换 字符串拼接 var a = 100 + 10 var b = 100 + '10' console.log(a)\t//110 console.log(b)\t//10010 数字 + 字符串时将数字自身转为字符串。\n==运算符 console.log(100 == '100')\t//true console.log(0 == '')\t//true console.log(null == undefined)\t//true ==计算会试图让前后的比较对象相等，故发生类型转换\nif语句 var a = true if(a){ console.log('a'); } var b = 100 if(b){ console.log('b') } var c = '' if(c){ console.log('c') } //输出 a // b //（c不输出） 100被强制转换为true，而’’被转换为false\n逻辑运算 console.log(10 \u0026\u0026 0)\t//0 console.log('' || 'abc')\t//abc console.log(!window.abc)\t//true //判断一个变量会被当成true 还是 false var a = 100 console.log(!!a)\t//true 题目： 1、何时使用 === 何时使用 == ?\nif(obj.a == null){ //相当于 obj.a === null || obj.a === undefined 的简写形式 //jQuery源码推荐写法 } 除了这种情况外，全部使用===\n2、JS中有哪些内置函数\nObject Array Boolean Number String Function Date RegExp Error 3、如何理解JSON？\nJson既是数据格式，也是数据对象。\nJSON.stringify({a:10,b:20}) JSON.parse('{\"a\":10,\"b\":20}') 原型和原型链 构造函数 function Foo(name,age){ this.name = name this.age = age this.class = 'class-1' //return this //默认有这一行 } var f = new Foo('zhangsan',20) //var f1 = new Foo('lisi',21)\t//创建多个对象 构造函数需使用大写开头！\n扩展：\nvar a = {} 其实是 var a = new Object() 的语法糖\nVar a = [] 其实是 Var a = new Array() 的语法糖\nFunction Foo(){…} 其实是 var Foo = new Function(…)的语法糖\n使用instanceof判断一个函数是否是一个变量的构造函数\n判断一个变量是否为“数组”： 变量 instanceof Array\n5条原型规则 1、所有的引用类型（数组、对象、函数），都具有对象特性，即可自由扩展属性（除了null以外）\nvar obj = {};obj.a = 100; var arr = [];arr.a = 100; function fn(){} fn.a = 100 2、所有的引用类型（数组、对象、函数），都有一个__proto__属性，属性值是一个普通的对象。（隐式原型）\nconsole.log(obj.__proto__); console.log(arr.__proto__); console.log(fn.__proto__); 输出结果： 3、所有的函数，都有一个prototype属性，属性值也是一个普通的对象（显式原型）\nconsole.log(fn.prototype) 输出结果 4、所有的引用类型（数组、对象、函数），__proto__属性值指向它的构造函数的“prototype”属性值\nconsole.log(obj.__proto__ === Object.prototype) //true 5、当试图得到一个对象的某个属性时，如果这个对象本身没有这个属性，那么会去它的__proto__（即它的构造函数的prototype）中寻找\nfunction Foo(name, age){ this.name = name } Foo.prototype.alertName = function(){ alert(this.name) } //创建示例 var f = new Foo('zhangsan') f.printName = function(){ console.log(this.name); } //测试 f.printName() f.alertName() this：\n永远指向f自身，故能读取属性\n循环对象自身的属性\nvar item for (item in f){ //高级浏览器已经在for in中屏蔽了来自原型的属性 //但是建议还是加判断 if(f.hasOwnProperty(item)){ console.log(item) } } 原型链 function Foo(name, age){ this.name = name } Foo.prototype.alertName = function(){ alert(this.name) } //创建示例 var f = new Foo('zhangsan') f.printName = function(){ console.log(this.name); } //测试 f.printName() f.alertName() f.toString() // 要去f.__proto__.__proto__中查找 注意，toString()是Object.prototype中的方法，f通过读取__proto__的方式寻找该方法，但它的上一级原型并没有这个方法，故寻找隐式原型的隐式原型，最终在Object中找到了toString()方法。\nInstanceof的用法介绍 用于判断引用类型属于哪个构造函数的方法\nF instanceof Foo 的判断逻辑是：\nF 的 proto 一层一层往上，能否对应到 Foo.prototype\n再试着判断 f instanceof Object\n题目：\n1、如何准确判断一个变量是数组类型\nvar arr = [] arr instanceof Array\t// true typeof arr //Object 2、写一个原型链继承的例子\n封装DOM查询：\nfunction Elem(id){ this.elem = document.getElementById(id) } Elem.prototype.html = function(val){ var elem = this.elem if(val){ elem.innerHTML = val return this //链式操作 }else{ return elem.innerHTML } } Elem.prototype.on = function(type, fn){ var elem = this.elem elem.addEventListener(type,fn) return this } var div1 = new Elem('div1') //console.log(div1.html()) div1.html('hello world\n') div1.on('click',function(){ alert('clicked') }) //链式操作 div1.html('hello world\n').on('click',function(){ alert('clicked') }) 3、描述new一个对象的过程\nfunction Foo(name,age){ this.name = name this.age = age this.class = 'class-1' //return this //默认有这一行 } var f = new Foo('zhangsan',20) 创建一个新对象 this指向这个新对象 执行代码，即对this赋值 返回this [JavaScript]JS基础知识（中） 作用域和闭包 执行上下文 范围：一段或者一个函数\n全局：变量定义、函数声明（一段）\n函数：变量定义、函数声明、this、arguments（函数）\nconsole.log(a) //undefined var a = 100 fn('zhangsan') //zhangsan 20 function fn(name){ //函数内 age = 20 console.log(name, age) var age bar(100) function bar(num){ console.log(num) } } 在第2行执行之前，a被声明为undefined，而在第5行执行时，函数fn直接被提前完整声明了，所以可以正确执行。\n在第6~15行，是函数内的执行上下文，同理，在第8行中读取age的属性，自动为age完成了“var age”的声明，故程序可正常执行。\n建议定义要放前面，方便他人阅读。\n在函数fn中，bar(100)也会去寻找function bar()的声明，故也能正常输出数字。\n关于this、argument，在函数执行之前，this就已经确定了值。\n注意“函数声明”和“函数表达式”的区别 //函数声明 function fn(){ //声明 } //函数表达式 var fn = function(){ //表达式 } 注意，执行第1行时，如果是用函数声明的方式定义函数，则可以执行，而使用函数表达式的方式，则报错，因为找不到函数的定义。\nthis 作为构造函数执行：\nfunction Foo(name){ this.name = name } var f = new Foo(\"zhangsan\") 作为对象属性执行：\nvar obj = { name: 'A', printName: function(){ console.log(this.name) } } obj.printName() 作为普通函数执行：\nfunction fn(){ console.log(this) //this === window } fn() call apply bind：\nfunction fn1(name,age){ alert(name) console.log(this) } fn1.call({x:100},'zhangsan',20) fn1.apply({x:100},['zhangsan',20]) var fn2 = function(name,age){ alert(name) console.log(this) }.bind({y:200}) fn2('zhangsan',20) call、apply和bind可以修改this的值。其中要注意bind必须要用函数表达式的方式才能执行。\n作用域 js中，无块级作用域：\nif(true){ var name = 'zhangsan' } console.log(name) //zhangsan 外部可以访问if语句块中的name\n有函数和全局作用域：\nvar a = 100 function fn(){ var a = 200 console.log('fn',a) //fn 200 } console.log('global',a) //global 100 fn() 由于有函数作用域和全局作用域，故两次输出a的值不同。定义到函数里的变量，外部不可调用、改变。\n作用域链 关于自由变量：\nvar a = 100 function fn(){ var b = 200 //当前作用域中没有定义的变量，即“自由变量” console.log(a) console.log(b) } fn() 在fn函数中，并没有定义a，但是fn从其父级作用域中寻找变量。\n函数的作用域是由函数定义的时候指定的，而不是函数执行时指定的。\n关于作用域链：\nvar a = 100 function f1(){ var b = 200 function f2(){ var c = 300 console.log(a) //自由变量 console.log(b) //自由变量 console.log(c) } f2() } f1() F1的父级作用域是全局作用域，f2的父级作用域是f1，因此当打印a时，js向父级作用域中寻找，而f1作用域没有，则再往f1的父级作用域，即全局作用域中寻找，再全局作用域中找到a，而b也同理。\n这个寻找的过程是从作用域链中一步步寻找得到的，这就是作用域链。\n闭包 函数作为返回值的情况： function F1(){ var a = 100 //返回一个函数（函数作为返回值） return function(){ console.log(a) } } //f1得到一个新函数 var f1 = F1() a = 200 f1() // 10 F1函数返回了一个函数。将返回的函数赋值给了f1，之后执行f1。\n在第5行中，a是自由变量，故到它的父级作用域中寻找，而F1()函数中定义了a = 100，所以a的值为100。\n函数作为参数传递的情况： function F1(){ var a = 100 //返回一个函数（函数作为返回值） return function(){ console.log(a) } } var f1 = new F1() function F2(fn){ a = 200 fn() } F2(f1); //还是 100 题目： 1、说一下对变量提升的理解：\n变量定义 函数声明（注意和函数表达式的区别）\n2、说明this几种不同的使用场景\n作为构造函数执行 作为对象属性执行 作为普通函数执行 Call apply bind\n3、创建10个标签，点击的时候弹出来对应的序号\n错误代码：\nvar i,a for(i = 0;i \u0026lt; 10;i++){ a = document.createElement('a') a.innerHTML = i + '\u0026lt;br/\u0026gt;' a.addEventListener('click',function(e){ e.preventDefault() alert(i) }) document.body.appendChild(a) } 执行结果：无论点击哪个链接，都弹出10。原因是在全局作用域中，i在循环结束时的值为10，所以不管之前定义时i的值为多少，总是返回当前作用域的i的值。\n正确解法：使用自执行函数（就是不用调用，只要定义完成，立即执行的函数）\n正确代码：\nvar i for(i = 0;i \u0026lt; 10;i++){ (function(i){ //存在自己的函数作用域 var a = document.createElement('a') a.innerHTML = i + '\u0026lt;br/\u0026gt;' a.addEventListener('click',function(e){ e.preventDefault() alert(i) }) document.body.appendChild(a) })(i) } 结果截图： [JavaScript]JS基础知识（下） 异步和单线程 异步 console.log(100) setTimeout(function(){ console.log(200) },1000) console.log(300) //输出： //100 //300 //200（过了1秒后） 同步 console.log(100) alert(200) console.log(300) //在弹窗弹出200时，控制台是不打印300的，直到弹框结束才打印300 同步会阻塞下面代码的执行，什么时候消除阻塞，才会继续往下走。\n异步不会阻塞，只是继续等待。\n异步同步的差异在于，会不会阻塞后续代码的执行。\n何时需要异步？ 在可能发生等待的情况。\n等待过程中不能像alert一样阻塞程序执行。\n因此，所有的“等待的情况”都需要异步。\n前端使用异步的场景 定时任务：setTimeout（设置多少毫秒之后执行函数体）,setInterval（设置每多少毫秒之后执行函数体）\nconsole.log(100) setTimeout(function(){ console.log(200) },1000) console.log(300) //输出： //100 //300 //200（过了1秒后） 网络请求：ajax请求：\nconsole.log('start') $.get('./data1.json',function(data1){ console.log(data1) }) console.log('end') 动态加载：\nconsole.log('start') var img = document.createElement('img') img.onload = function(){ console.log('loaded') } img.src = 'img/HBuilder.png' console.log('end') 事件绑定：\nconsole.log('start') document.getElementById('div1').addEventListener('click',function(){ alert('clicked') }) console.log('end') 异步和单线程 console.log(100) setTimeout(function(){ console.log(200) },1000) console.log(300) //输出： //100 //300 //200（过了1秒后） 执行第1行，打印100，\n执行setTimeout后，传入setTimeout函数会被暂存起来，不会立即执行（单线程的特点，不能同时干两件事），\n执行最后一行，打印300，\n待所有程序执行完，处于空闲状态时，会马上查看有没有暂存起来的要执行的函数，\n发现暂存起来的setTimeout中的函数无需等待时间，就立即发过来执行。\n题目 1、同步和异步的区别是什么？分别举一个同步和异步的例子。\n同步会阻塞代码执行，而异步不会。\nAlert是同步，setTimeout是异步。\n2、一个关于setTimeout的笔试题：\nconsole.log(1) setTimeout(function(){ console.log(2) },0) console.log(3) setTimeout(function(){ console.log(4) },1000) console.log(5) 输出：1 3 5 2 4\n3、前端使用异步的场景有哪些？\n都需要等待，单线程，为了不阻塞，只能等待。\n其他知识 日期 Date.now()\t//当前时间的毫秒数 var dt = new Date() dt.getTime() //获取毫秒数 dt.getFullYear() //年 dt.getMonth() //月（0~11） dt.getDate()\t//日（0~31） dt.getHours()\t//小时（0~23） dt.getMinutes()\t//分钟（0~59） dt.getSeconds()\t//秒\t(0~59) Math 获取随机数Math.random()\n数组API forEach 遍历所有元素：\nvar arr = [1,2,3] //参数为 元素,下标，元素在前，下标在后 arr.forEach(function(item, index){ //遍历数组中的所有元素 console.log(index,item) }) every 判断所有元素是否都符合条件：\nvar arr = [1,2,3] var result = arr.every(function(item, index){ //用来判断所有的数组元素，是否都满足一个条件 if(item \u0026lt; 2){ return true } }) console.log(result)\t//false some 判断是否有至少一个元素符合条件：\nvar arr = [1,2,3] var result = arr.some(function(item, index){ //用来判断所有的数组元素，只要有一个满足条件即可 if(item \u0026lt; 2){ return true } }) console.log(result)\t//true sort 排序\nvar arr = [1,4,2,3,5] var arr2 = arr.sort(function(a,b){ //从小到大排序 return a - b }) console.log(arr2) map 对元素重新组装，生成新数组\nvar arr = [1,2,3,4] var arr2 = arr.map(function(item,index){ //将元素重新组装，并返回 return '\u0026lt;b\u0026gt;' + item + '\u0026lt;/b\u0026gt;' }) console.log(arr2) filter 过滤符合条件的元素：\nvar arr = [1,2,3] var arr2 = arr.filter(function(item,index){ //通过某一个条件过滤数组 if(item \u0026gt;= 2){ return true } }) console.log(arr2) 对象API for in\nvar obj = { x:100, y:200, z:300 } var key for(key in obj){ if(obj.hasOwnProperty(key)){ console.log(key,obj[key]) } } 题目 1、获取2017-06-10格式的日期\nfunction formatDate(dt){ if(!dt){ dt = new Date() } var year = dt.getFullYear() var month = dt.getMonth() + 1 var date = dt.getDate() if(month \u0026lt; 10){ //强制类型转换 month = '0' + month } if(date \u0026lt; 10){ //强制类型转换 date = '0' + date } //强制类型转换 return year + '-' + month + '-' + date } var dt = new Date() var formatDate = formatDate(dt) console.log(formatDate) 2、获取随机数，要求是长度一致的字符串格式\nvar random = Math.random() random = random + '0000000000'//后面加上10个零 random = random.slice(0,10) console.log(random) 3、写一个能遍历对象和数组的通用forEach函数\n//对数组: var arr = ['a','b','c'] forEach(arr,function(item,index){ console.log(index,item) }) //对对象: var obj = { 'one':'a', 'two':'b' } for(key in obj){ console.log(key,obj[key]) } //组合后: function forEach(obj,fn){ var key if(obj instanceof Array){ //准确判断是不是数组 obj.forEach(function(item,index){ fn(index,item) }) }else{ //不是数组就是对象 for(key in obj){ fn(key,obj[key]) } } } [JavaScript]JS WEB API（上） JS WEB API Ecma262 + w3c\nDOM操作 1、DOM是哪种基本的数据结构？树\n2、DOM操作的常用API有哪些？\n获取DOM节点，以及节点的property和attribute\n获取父节点，获取子节点\n新增节点，删除节点\n3、DOM节点的attr和property有何区别？\nProperty只是一个js对象的属性的修改\nAttribute是对html标签属性的修改\nDOM本质 浏览器把拿到的HTML代码，结构化一个浏览器能识别并且js可操作的一个模型而已。\nDOM节点操作 获取DOM节点 prototype 获取的是js对象 attribute 获取的是DOM节点 DOM结构操作 新增节点 获取父元素、获取子元素、删除节点 BOM操作 Navigator、Screen Location、History 1、如何检测浏览器的类型？\nNavigator\n2、拆解url的各部分\nlocation\n","wordCount":"1180","inLanguage":"zh","datePublished":"2018-06-06T21:32:09+08:00","dateModified":"2018-06-06T21:32:09+08:00","author":{"@type":"Person","name":"JohnathanLin"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://windypath.com/posts/javascript_basic_knowledge/"},"publisher":{"@type":"Organization","name":"风萧古道 - 勤学苦练，年复一年","logo":{"@type":"ImageObject","url":"https://windypath.com/%3Clink%20/%20abs%20url%3E"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://windypath.com/ accesskey=h title="风萧古道 (Alt + H)">风萧古道</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://windypath.com/en/ title="Switch to English Page" aria-label="Switch to English Page">En</a></li></ul></div></div><ul id=menu><li><a href=https://windypath.com/archives/ title=归档><span>归档</span></a></li><li><a href=https://windypath.com/categories/ title=分类><span>分类</span></a></li><li><a href=https://windypath.com/tags/ title=标签><span>标签</span></a></li><li><a href=https://windypath.com/about/ title=关于><span>关于</span></a></li><li><a href=https://windypath.com/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>[JavaScript]JS基础知识</h1><div class=post-meta><span title='2018-06-06 21:32:09 +0800 +0800'>六月 6, 2018</span>&nbsp;·&nbsp;JohnathanLin</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#javascriptjs%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86%e4%b8%8a aria-label=[JavaScript]JS基础知识（上）>[JavaScript]JS基础知识（上）</a><ul><li><a href=#%e5%8f%98%e9%87%8f%e7%b1%bb%e5%9e%8b%e5%8f%8a%e8%ae%a1%e7%ae%97 aria-label=变量类型及计算>变量类型及计算</a><ul><li><a href=#%e5%8f%98%e9%87%8f%e7%b1%bb%e5%9e%8b aria-label=变量类型>变量类型</a></li><li><a href=#typeof%e8%bf%90%e7%ae%97%e7%ac%a6%e8%af%a6%e8%a7%a3 aria-label=Typeof运算符详解>Typeof运算符详解</a></li></ul></li><li><a href=#%e5%8f%98%e9%87%8f%e8%ae%a1%e7%ae%97 aria-label=变量计算>变量计算</a><ul><li><a href=#%e5%bc%ba%e5%88%b6%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2 aria-label=强制类型转换>强制类型转换</a><ul><li><a href=#%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%8b%bc%e6%8e%a5 aria-label=字符串拼接>字符串拼接</a></li><li><a href=#%e8%bf%90%e7%ae%97%e7%ac%a6 aria-label="==运算符">==运算符</a></li><li><a href=#if%e8%af%ad%e5%8f%a5 aria-label=if语句>if语句</a></li><li><a href=#%e9%80%bb%e8%be%91%e8%bf%90%e7%ae%97 aria-label=逻辑运算>逻辑运算</a></li></ul></li></ul></li><li><a href=#%e9%a2%98%e7%9b%ae aria-label=题目：>题目：</a></li><li><a href=#%e5%8e%9f%e5%9e%8b%e5%92%8c%e5%8e%9f%e5%9e%8b%e9%93%be aria-label=原型和原型链>原型和原型链</a><ul><li><a href=#%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0 aria-label=构造函数>构造函数</a></li><li><a href=#5%e6%9d%a1%e5%8e%9f%e5%9e%8b%e8%a7%84%e5%88%99 aria-label=5条原型规则>5条原型规则</a></li><li><a href=#%e5%8e%9f%e5%9e%8b%e9%93%be aria-label=原型链>原型链</a></li><li><a href=#instanceof%e7%9a%84%e7%94%a8%e6%b3%95%e4%bb%8b%e7%bb%8d aria-label=Instanceof的用法介绍>Instanceof的用法介绍</a></li></ul></li></ul></li><li><a href=#javascriptjs%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86%e4%b8%ad aria-label=[JavaScript]JS基础知识（中）>[JavaScript]JS基础知识（中）</a><ul><li><a href=#%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%92%8c%e9%97%ad%e5%8c%85 aria-label=作用域和闭包>作用域和闭包</a><ul><li><a href=#%e6%89%a7%e8%a1%8c%e4%b8%8a%e4%b8%8b%e6%96%87 aria-label=执行上下文>执行上下文</a><ul><li><a href=#%e6%b3%a8%e6%84%8f%e5%87%bd%e6%95%b0%e5%a3%b0%e6%98%8e%e5%92%8c%e5%87%bd%e6%95%b0%e8%a1%a8%e8%be%be%e5%bc%8f%e7%9a%84%e5%8c%ba%e5%88%ab aria-label=注意“函数声明”和“函数表达式”的区别>注意“函数声明”和“函数表达式”的区别</a></li><li><a href=#this aria-label=this>this</a></li><li><a href=#%e4%bd%9c%e7%94%a8%e5%9f%9f aria-label=作用域>作用域</a></li><li><a href=#%e4%bd%9c%e7%94%a8%e5%9f%9f%e9%93%be aria-label=作用域链>作用域链</a></li></ul></li><li><a href=#%e9%97%ad%e5%8c%85 aria-label=闭包>闭包</a><ul><li><a href=#%e5%87%bd%e6%95%b0%e4%bd%9c%e4%b8%ba%e8%bf%94%e5%9b%9e%e5%80%bc%e7%9a%84%e6%83%85%e5%86%b5 aria-label=函数作为返回值的情况：>函数作为返回值的情况：</a></li><li><a href=#%e5%87%bd%e6%95%b0%e4%bd%9c%e4%b8%ba%e5%8f%82%e6%95%b0%e4%bc%a0%e9%80%92%e7%9a%84%e6%83%85%e5%86%b5 aria-label=函数作为参数传递的情况：>函数作为参数传递的情况：</a></li><li><a href=#%e9%a2%98%e7%9b%ae-1 aria-label=题目：>题目：</a></li></ul></li></ul></li></ul></li><li><a href=#javascriptjs%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86%e4%b8%8b aria-label=[JavaScript]JS基础知识（下）>[JavaScript]JS基础知识（下）</a><ul><li><a href=#%e5%bc%82%e6%ad%a5%e5%92%8c%e5%8d%95%e7%ba%bf%e7%a8%8b aria-label=异步和单线程>异步和单线程</a><ul><li><a href=#%e5%bc%82%e6%ad%a5 aria-label=异步>异步</a></li><li><a href=#%e5%90%8c%e6%ad%a5 aria-label=同步>同步</a></li><li><a href=#%e4%bd%95%e6%97%b6%e9%9c%80%e8%a6%81%e5%bc%82%e6%ad%a5 aria-label=何时需要异步？>何时需要异步？</a></li><li><a href=#%e5%89%8d%e7%ab%af%e4%bd%bf%e7%94%a8%e5%bc%82%e6%ad%a5%e7%9a%84%e5%9c%ba%e6%99%af aria-label=前端使用异步的场景>前端使用异步的场景</a></li><li><a href=#%e5%bc%82%e6%ad%a5%e5%92%8c%e5%8d%95%e7%ba%bf%e7%a8%8b-1 aria-label=异步和单线程>异步和单线程</a></li><li><a href=#%e9%a2%98%e7%9b%ae-2 aria-label=题目>题目</a></li><li><a href=#%e5%85%b6%e4%bb%96%e7%9f%a5%e8%af%86 aria-label=其他知识>其他知识</a><ul><li><a href=#%e6%97%a5%e6%9c%9f aria-label=日期>日期</a></li><li><a href=#math aria-label=Math>Math</a></li><li><a href=#%e6%95%b0%e7%bb%84api aria-label=数组API>数组API</a></li><li><a href=#%e5%af%b9%e8%b1%a1api aria-label=对象API>对象API</a></li><li><a href=#%e9%a2%98%e7%9b%ae-3 aria-label=题目>题目</a></li></ul></li></ul></li></ul></li><li><a href=#javascriptjs-web-api%e4%b8%8a aria-label="[JavaScript]JS WEB API（上）">[JavaScript]JS WEB API（上）</a><ul><ul><li><a href=#js-web-api aria-label="JS WEB API">JS WEB API</a></li><li><a href=#dom%e6%93%8d%e4%bd%9c aria-label=DOM操作>DOM操作</a></li><li><a href=#dom%e6%9c%ac%e8%b4%a8 aria-label=DOM本质>DOM本质</a></li><li><a href=#dom%e8%8a%82%e7%82%b9%e6%93%8d%e4%bd%9c aria-label=DOM节点操作>DOM节点操作</a><ul><li><a href=#%e8%8e%b7%e5%8f%96dom%e8%8a%82%e7%82%b9 aria-label=获取DOM节点>获取DOM节点</a></li><li><a href=#dom%e7%bb%93%e6%9e%84%e6%93%8d%e4%bd%9c aria-label=DOM结构操作>DOM结构操作</a></li></ul></li><li><a href=#bom%e6%93%8d%e4%bd%9c aria-label=BOM操作>BOM操作</a></li></ul></ul></li></ul></div></details></div><div class=post-content><h1 id=javascriptjs基础知识上>[JavaScript]JS基础知识（上）<a hidden class=anchor aria-hidden=true href=#javascriptjs基础知识上>#</a></h1><h2 id=变量类型及计算>变量类型及计算<a hidden class=anchor aria-hidden=true href=#变量类型及计算>#</a></h2><h3 id=变量类型>变量类型<a hidden class=anchor aria-hidden=true href=#变量类型>#</a></h3><p>值类型 vs  引用类型</p><p>值类型：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>b</span>) <span style=color:#75715e>//100
</span></span></span></code></pre></div><p>引用类型：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> {<span style=color:#a6e22e>age</span><span style=color:#f92672>:</span><span style=color:#ae81ff>20</span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>age</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>21</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>age</span>) <span style=color:#75715e>//21
</span></span></span></code></pre></div><p>引用类型：对象、数组和函数</p><p>特点：无限扩展属性，内存占用可能过大，故共用内存空间以节省空间</p><h3 id=typeof运算符详解>Typeof运算符详解<a hidden class=anchor aria-hidden=true href=#typeof运算符详解>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>typeof</span> <span style=color:#66d9ef>undefined</span>	<span style=color:#75715e>//undefined
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typeof</span> <span style=color:#e6db74>&#39;abc&#39;</span>		<span style=color:#75715e>//string
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typeof</span> <span style=color:#ae81ff>123</span>		<span style=color:#75715e>//number
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typeof</span> <span style=color:#66d9ef>true</span>		<span style=color:#75715e>//boolean
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typeof</span> {}		<span style=color:#75715e>//object
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typeof</span> []		<span style=color:#75715e>//object
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typeof</span> <span style=color:#66d9ef>null</span>		<span style=color:#75715e>//object
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>	<span style=color:#75715e>//function
</span></span></span></code></pre></div><p>注：null也是对象</p><p>1~4行是值类型，5~8行是引用类型，但JS只能区分函数与非函数，而不能区分数组和对象。</p><h2 id=变量计算>变量计算<a hidden class=anchor aria-hidden=true href=#变量计算>#</a></h2><h3 id=强制类型转换>强制类型转换<a hidden class=anchor aria-hidden=true href=#强制类型转换>#</a></h3><h4 id=字符串拼接>字符串拼接<a hidden class=anchor aria-hidden=true href=#字符串拼接>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;10&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>a</span>)	<span style=color:#75715e>//110
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>b</span>)	<span style=color:#75715e>//10010
</span></span></span></code></pre></div><p>数字 + 字符串时将数字自身转为字符串。</p><h4 id=运算符>==运算符<a hidden class=anchor aria-hidden=true href=#运算符>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>100</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;100&#39;</span>)		<span style=color:#75715e>//true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>0</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;&#39;</span>)			<span style=color:#75715e>//true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>undefined</span>)		<span style=color:#75715e>//true
</span></span></span></code></pre></div><p>==计算会试图让前后的比较对象相等，故发生类型转换</p><h4 id=if语句>if语句<a hidden class=anchor aria-hidden=true href=#if语句>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>a</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;a&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>b</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;b&#39;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>c</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;c&#39;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//输出 a 
</span></span></span><span style=display:flex><span><span style=color:#75715e>//     b
</span></span></span><span style=display:flex><span><span style=color:#75715e>//（c不输出）
</span></span></span></code></pre></div><p>100被强制转换为true，而’’被转换为false</p><h4 id=逻辑运算>逻辑运算<a hidden class=anchor aria-hidden=true href=#逻辑运算>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>10</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>0</span>)		<span style=color:#75715e>//0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;&#39;</span> <span style=color:#f92672>||</span> <span style=color:#e6db74>&#39;abc&#39;</span>)	<span style=color:#75715e>//abc
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#f92672>!</span>window.<span style=color:#a6e22e>abc</span>)	<span style=color:#75715e>//true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	
</span></span><span style=display:flex><span><span style=color:#75715e>//判断一个变量会被当成true 还是 false
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#f92672>!!</span><span style=color:#a6e22e>a</span>)		<span style=color:#75715e>//true
</span></span></span></code></pre></div><h2 id=题目>题目：<a hidden class=anchor aria-hidden=true href=#题目>#</a></h2><p>1、何时使用 === 何时使用 == ?</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>a</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span>){
</span></span><span style=display:flex><span>	<span style=color:#75715e>//相当于 obj.a === null || obj.a === undefined 的简写形式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//jQuery源码推荐写法
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>除了这种情况外，全部使用===</p><p>2、JS中有哪些内置函数</p><ul><li>Object</li><li>Array</li><li>Boolean</li><li>Number</li><li>String</li><li>Function</li><li>Date</li><li>RegExp</li><li>Error</li></ul><p>3、如何理解JSON？</p><p>Json既是数据格式，也是数据对象。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>({<span style=color:#a6e22e>a</span><span style=color:#f92672>:</span><span style=color:#ae81ff>10</span>,<span style=color:#a6e22e>b</span><span style=color:#f92672>:</span><span style=color:#ae81ff>20</span>})
</span></span><span style=display:flex><span><span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#e6db74>&#39;{&#34;a&#34;:10,&#34;b&#34;:20}&#39;</span>)
</span></span></code></pre></div><h2 id=原型和原型链>原型和原型链<a hidden class=anchor aria-hidden=true href=#原型和原型链>#</a></h2><h3 id=构造函数>构造函数<a hidden class=anchor aria-hidden=true href=#构造函数>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Foo</span>(<span style=color:#a6e22e>name</span>,<span style=color:#a6e22e>age</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>name</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>age</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>age</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#66d9ef>class</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;class-1&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//return this  //默认有这一行
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>f</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Foo</span>(<span style=color:#e6db74>&#39;zhangsan&#39;</span>,<span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//var f1 = new Foo(&#39;lisi&#39;,21)	//创建多个对象
</span></span></span></code></pre></div><p>构造函数需使用大写开头！</p><p>扩展：</p><p>var a = {} 其实是 var a = new Object() 的语法糖</p><p>Var a = [] 其实是 Var a = new Array() 的语法糖</p><p>Function Foo(){&mldr;} 其实是 var Foo = new Function(&mldr;)的语法糖</p><p>使用instanceof判断一个函数是否是一个变量的构造函数</p><p>判断一个变量是否为“数组”： 变量 instanceof Array</p><h3 id=5条原型规则>5条原型规则<a hidden class=anchor aria-hidden=true href=#5条原型规则>#</a></h3><p>1、所有的引用类型（数组、对象、函数），都具有对象特性，即可自由扩展属性（除了null以外）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>obj</span> <span style=color:#f92672>=</span> {};<span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [];<span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fn</span>(){}
</span></span><span style=display:flex><span><span style=color:#a6e22e>fn</span>.<span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>
</span></span></code></pre></div><p>2、所有的引用类型（数组、对象、函数），都有一个__proto__属性，属性值是一个普通的对象。（隐式原型）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>__proto__</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>__proto__</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>fn</span>.<span style=color:#a6e22e>__proto__</span>);
</span></span></code></pre></div><p>输出结果：
<img loading=lazy src=/images/js_basic1.png alt></p><p>3、所有的函数，都有一个prototype属性，属性值也是一个普通的对象（显式原型）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>fn</span>.<span style=color:#a6e22e>prototype</span>)
</span></span></code></pre></div><p>输出结果
<img loading=lazy src=/images/js_basic2.png alt>
4、所有的引用类型（数组、对象、函数），__proto__属性值指向它的构造函数的“prototype”属性值</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>__proto__</span> <span style=color:#f92672>===</span> Object.<span style=color:#a6e22e>prototype</span>)  <span style=color:#75715e>//true
</span></span></span></code></pre></div><p>5、当试图得到一个对象的某个属性时，如果这个对象本身没有这个属性，那么会去它的__proto__（即它的构造函数的prototype）中寻找</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Foo</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>age</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>name</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>Foo</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>alertName</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>alert</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//创建示例
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>f</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Foo</span>(<span style=color:#e6db74>&#39;zhangsan&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>printName</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//测试
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>printName</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>alertName</span>()
</span></span></code></pre></div><p>this：</p><p>永远指向f自身，故能读取属性</p><p><strong>循环对象自身的属性</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>item</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#a6e22e>item</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>f</span>){
</span></span><span style=display:flex><span>    <span style=color:#75715e>//高级浏览器已经在for in中屏蔽了来自原型的属性
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//但是建议还是加判断
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>hasOwnProperty</span>(<span style=color:#a6e22e>item</span>)){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>item</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=原型链>原型链<a hidden class=anchor aria-hidden=true href=#原型链>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Foo</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>age</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>name</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>Foo</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>alertName</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>alert</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//创建示例
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>f</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Foo</span>(<span style=color:#e6db74>&#39;zhangsan&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>printName</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//测试
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>printName</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>alertName</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>toString</span>() <span style=color:#75715e>// 要去f.__proto__.__proto__中查找
</span></span></span></code></pre></div><p><img loading=lazy src=/images/js_basic3.png alt></p><p>注意，toString()是Object.prototype中的方法，f通过读取__proto__的方式寻找该方法，但它的上一级原型并没有这个方法，故寻找隐式原型的隐式原型，最终在Object中找到了toString()方法。</p><h3 id=instanceof的用法介绍>Instanceof的用法介绍<a hidden class=anchor aria-hidden=true href=#instanceof的用法介绍>#</a></h3><p>用于判断引用类型属于哪个构造函数的方法</p><p>F instanceof Foo 的判断逻辑是：</p><p>F 的 <strong>proto</strong> 一层一层往上，能否对应到 Foo.prototype</p><p>再试着判断 f instanceof Object</p><p>题目：</p><p>1、如何准确判断一个变量是数组类型</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span> <span style=color:#66d9ef>instanceof</span> Array	<span style=color:#75715e>// true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>arr</span> 	<span style=color:#75715e>//Object
</span></span></span></code></pre></div><p>2、写一个原型链继承的例子</p><p>封装DOM查询：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Elem</span>(<span style=color:#a6e22e>id</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>elem</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#a6e22e>id</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>Elem</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>html</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>val</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>elem</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>elem</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>val</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>elem</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>val</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>   <span style=color:#75715e>//链式操作
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }<span style=color:#66d9ef>else</span>{
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>elem</span>.<span style=color:#a6e22e>innerHTML</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>Elem</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>on</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>type</span>, <span style=color:#a6e22e>fn</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>elem</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>elem</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>elem</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#a6e22e>type</span>,<span style=color:#a6e22e>fn</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>div1</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Elem</span>(<span style=color:#e6db74>&#39;div1&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//console.log(div1.html())
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>div1</span>.<span style=color:#a6e22e>html</span>(<span style=color:#e6db74>&#39;&lt;p&gt;hello world&lt;/p&gt;&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>div1</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#39;click&#39;</span>,<span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>&#39;clicked&#39;</span>)
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#75715e>//链式操作
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>div1</span>.<span style=color:#a6e22e>html</span>(<span style=color:#e6db74>&#39;&lt;p&gt;hello world&lt;/p&gt;&#39;</span>).<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#39;click&#39;</span>,<span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>&#39;clicked&#39;</span>)
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>3、描述new一个对象的过程</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Foo</span>(<span style=color:#a6e22e>name</span>,<span style=color:#a6e22e>age</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>name</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>age</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>age</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#66d9ef>class</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;class-1&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//return this  //默认有这一行
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>f</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Foo</span>(<span style=color:#e6db74>&#39;zhangsan&#39;</span>,<span style=color:#ae81ff>20</span>)
</span></span></code></pre></div><ol><li>创建一个新对象</li><li>this指向这个新对象</li><li>执行代码，即对this赋值</li><li>返回this</li></ol><h1 id=javascriptjs基础知识中>[JavaScript]JS基础知识（中）<a hidden class=anchor aria-hidden=true href=#javascriptjs基础知识中>#</a></h1><h2 id=作用域和闭包>作用域和闭包<a hidden class=anchor aria-hidden=true href=#作用域和闭包>#</a></h2><h3 id=执行上下文>执行上下文<a hidden class=anchor aria-hidden=true href=#执行上下文>#</a></h3><p>范围：一段或者一个函数</p><p>全局：变量定义、函数声明（一段）</p><p>函数：变量定义、函数声明、this、arguments（函数）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>a</span>) <span style=color:#75715e>//undefined
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span><span style=color:#a6e22e>fn</span>(<span style=color:#e6db74>&#39;zhangsan&#39;</span>)  <span style=color:#75715e>//zhangsan 20
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fn</span>(<span style=color:#a6e22e>name</span>){
</span></span><span style=display:flex><span>    <span style=color:#75715e>//函数内
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>age</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>age</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>age</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bar</span>(<span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>bar</span>(<span style=color:#a6e22e>num</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>num</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>在第2行执行之前，a被声明为undefined，而在第5行执行时，函数fn直接被提前完整声明了，所以可以正确执行。</p><p>在第6~15行，是函数内的执行上下文，同理，在第8行中读取age的属性，自动为age完成了“var age”的声明，故程序可正常执行。</p><p>建议定义要放前面，方便他人阅读。</p><p>在函数fn中，bar(100)也会去寻找function bar()的声明，故也能正常输出数字。</p><p>关于this、argument，在函数执行之前，this就已经确定了值。</p><h4 id=注意函数声明和函数表达式的区别>注意“函数声明”和“函数表达式”的区别<a hidden class=anchor aria-hidden=true href=#注意函数声明和函数表达式的区别>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>//函数声明
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fn</span>(){
</span></span><span style=display:flex><span>    <span style=color:#75715e>//声明
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//函数表达式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>fn</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#75715e>//表达式
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>注意，执行第1行时，如果是用函数声明的方式定义函数，则可以执行，而使用函数表达式的方式，则报错，因为找不到函数的定义。</p><h4 id=this>this<a hidden class=anchor aria-hidden=true href=#this>#</a></h4><p>作为构造函数执行：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Foo</span>(<span style=color:#a6e22e>name</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>name</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>f</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Foo</span>(<span style=color:#e6db74>&#34;zhangsan&#34;</span>)
</span></span></code></pre></div><p>作为对象属性执行：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>obj</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;A&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>printName</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>printName</span>()
</span></span></code></pre></div><p>作为普通函数执行：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fn</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>this</span>)   <span style=color:#75715e>//this === window
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>fn</span>()
</span></span></code></pre></div><p>call apply bind：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fn1</span>(<span style=color:#a6e22e>name</span>,<span style=color:#a6e22e>age</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>name</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>this</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>fn1</span>.<span style=color:#a6e22e>call</span>({<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#ae81ff>100</span>},<span style=color:#e6db74>&#39;zhangsan&#39;</span>,<span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fn1</span>.<span style=color:#a6e22e>apply</span>({<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#ae81ff>100</span>},[<span style=color:#e6db74>&#39;zhangsan&#39;</span>,<span style=color:#ae81ff>20</span>])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>fn2</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>name</span>,<span style=color:#a6e22e>age</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>name</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>this</span>)
</span></span><span style=display:flex><span>}.<span style=color:#a6e22e>bind</span>({<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#ae81ff>200</span>})
</span></span><span style=display:flex><span><span style=color:#a6e22e>fn2</span>(<span style=color:#e6db74>&#39;zhangsan&#39;</span>,<span style=color:#ae81ff>20</span>)
</span></span></code></pre></div><p>call、apply和bind可以修改this的值。其中要注意bind必须要用函数表达式的方式才能执行。</p><h4 id=作用域>作用域<a hidden class=anchor aria-hidden=true href=#作用域>#</a></h4><p>js中，无块级作用域：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>true</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;zhangsan&#39;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>name</span>)   <span style=color:#75715e>//zhangsan
</span></span></span></code></pre></div><p>外部可以访问if语句块中的name</p><p>有函数和全局作用域：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fn</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;fn&#39;</span>,<span style=color:#a6e22e>a</span>) <span style=color:#75715e>//fn 200
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;global&#39;</span>,<span style=color:#a6e22e>a</span>) <span style=color:#75715e>//global 100
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>fn</span>()
</span></span></code></pre></div><p>由于有函数作用域和全局作用域，故两次输出a的值不同。定义到函数里的变量，外部不可调用、改变。</p><h4 id=作用域链>作用域链<a hidden class=anchor aria-hidden=true href=#作用域链>#</a></h4><p>关于自由变量：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fn</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span> <span style=color:#75715e>//当前作用域中没有定义的变量，即“自由变量”
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>b</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>fn</span>()
</span></span></code></pre></div><p>在fn函数中，并没有定义a，但是fn从其父级作用域中寻找变量。</p><p>函数的作用域是由函数定义的时候指定的，而不是函数执行时指定的。</p><p>关于作用域链：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>f1</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>f2</span>(){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>300</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>a</span>)  <span style=color:#75715e>//自由变量
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>b</span>)  <span style=color:#75715e>//自由变量
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>c</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>f2</span>()
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>f1</span>()
</span></span></code></pre></div><p>F1的父级作用域是全局作用域，f2的父级作用域是f1，因此当打印a时，js向父级作用域中寻找，而f1作用域没有，则再往f1的父级作用域，即全局作用域中寻找，再全局作用域中找到a，而b也同理。</p><p>这个寻找的过程是从作用域链中一步步寻找得到的，这就是作用域链。</p><h3 id=闭包>闭包<a hidden class=anchor aria-hidden=true href=#闭包>#</a></h3><h4 id=函数作为返回值的情况>函数作为返回值的情况：<a hidden class=anchor aria-hidden=true href=#函数作为返回值的情况>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>F1</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//返回一个函数（函数作为返回值）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//f1得到一个新函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>f1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>F1</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>f1</span>()  <span style=color:#75715e>// 10
</span></span></span></code></pre></div><p>F1函数返回了一个函数。将返回的函数赋值给了f1，之后执行f1。</p><p>在第5行中，a是自由变量，故到它的父级作用域中寻找，而F1()函数中定义了a = 100，所以a的值为100。</p><h4 id=函数作为参数传递的情况>函数作为参数传递的情况：<a hidden class=anchor aria-hidden=true href=#函数作为参数传递的情况>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>F1</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//返回一个函数（函数作为返回值）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>f1</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>F1</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>F2</span>(<span style=color:#a6e22e>fn</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fn</span>()
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>F2</span>(<span style=color:#a6e22e>f1</span>); <span style=color:#75715e>//还是 100
</span></span></span></code></pre></div><h4 id=题目-1>题目：<a hidden class=anchor aria-hidden=true href=#题目-1>#</a></h4><p>1、说一下对变量提升的理解：</p><p>变量定义
函数声明（注意和函数表达式的区别）</p><p>2、说明this几种不同的使用场景</p><p>作为构造函数执行
作为对象属性执行
作为普通函数执行
Call apply bind</p><p>3、创建10个&lt;a>标签，点击的时候弹出来对应的序号</p><p>错误代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span>,<span style=color:#a6e22e>a</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;<span style=color:#a6e22e>i</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>lt</span>; <span style=color:#ae81ff>10</span>;<span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;a&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;&amp;lt;br/&amp;gt;&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;click&#39;</span>,<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>e</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>()
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>    document.<span style=color:#a6e22e>body</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>执行结果：无论点击哪个链接，都弹出10。原因是在全局作用域中，i在循环结束时的值为10，所以不管之前定义时i的值为多少，总是返回当前作用域的i的值。</p><p>正确解法：使用自执行函数（就是不用调用，只要定义完成，立即执行的函数）</p><p>正确代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;<span style=color:#a6e22e>i</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>lt</span>; <span style=color:#ae81ff>10</span>;<span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>    (<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>i</span>){
</span></span><span style=display:flex><span>        <span style=color:#75715e>//存在自己的函数作用域
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;a&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>innerHTML</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;&amp;lt;br/&amp;gt;&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;click&#39;</span>,<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>e</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>()
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>    document.<span style=color:#a6e22e>body</span>.<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>a</span>)
</span></span><span style=display:flex><span>    })(<span style=color:#a6e22e>i</span>)   
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>结果截图：
<img loading=lazy src=/images/js_basic4.png alt></p><h1 id=javascriptjs基础知识下>[JavaScript]JS基础知识（下）<a hidden class=anchor aria-hidden=true href=#javascriptjs基础知识下>#</a></h1><h2 id=异步和单线程>异步和单线程<a hidden class=anchor aria-hidden=true href=#异步和单线程>#</a></h2><h3 id=异步>异步<a hidden class=anchor aria-hidden=true href=#异步>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>setTimeout</span>(<span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>200</span>)
</span></span><span style=display:flex><span>},<span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>300</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//输出：
</span></span></span><span style=display:flex><span><span style=color:#75715e>//100
</span></span></span><span style=display:flex><span><span style=color:#75715e>//300
</span></span></span><span style=display:flex><span><span style=color:#75715e>//200（过了1秒后）
</span></span></span></code></pre></div><h3 id=同步>同步<a hidden class=anchor aria-hidden=true href=#同步>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>200</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>300</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//在弹窗弹出200时，控制台是不打印300的，直到弹框结束才打印300
</span></span></span></code></pre></div><p>同步会阻塞下面代码的执行，什么时候消除阻塞，才会继续往下走。</p><p>异步不会阻塞，只是继续等待。</p><p>异步同步的差异在于，会不会阻塞后续代码的执行。</p><h3 id=何时需要异步>何时需要异步？<a hidden class=anchor aria-hidden=true href=#何时需要异步>#</a></h3><p>在可能发生等待的情况。</p><p>等待过程中不能像alert一样阻塞程序执行。</p><p>因此，所有的“等待的情况”都需要异步。</p><h3 id=前端使用异步的场景>前端使用异步的场景<a hidden class=anchor aria-hidden=true href=#前端使用异步的场景>#</a></h3><p>定时任务：setTimeout（设置多少毫秒之后执行函数体）,setInterval（设置每多少毫秒之后执行函数体）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>setTimeout</span>(<span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>200</span>)
</span></span><span style=display:flex><span>},<span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>300</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//输出：
</span></span></span><span style=display:flex><span><span style=color:#75715e>//100
</span></span></span><span style=display:flex><span><span style=color:#75715e>//300
</span></span></span><span style=display:flex><span><span style=color:#75715e>//200（过了1秒后）
</span></span></span></code></pre></div><p>网络请求：ajax请求：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;start&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>$</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;./data1.json&#39;</span>,<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>data1</span>){
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>data1</span>)
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;end&#39;</span>)
</span></span></code></pre></div><p>动态&lt;img>加载：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;start&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;img&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>onload</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;loaded&#39;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>src</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;img/HBuilder.png&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;end&#39;</span>)
</span></span></code></pre></div><p>事件绑定：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;start&#39;</span>)
</span></span><span style=display:flex><span>document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;div1&#39;</span>).<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;click&#39;</span>,<span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>&#39;clicked&#39;</span>)
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;end&#39;</span>)
</span></span></code></pre></div><h3 id=异步和单线程-1>异步和单线程<a hidden class=anchor aria-hidden=true href=#异步和单线程-1>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>setTimeout</span>(<span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>200</span>)
</span></span><span style=display:flex><span>},<span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>300</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//输出：
</span></span></span><span style=display:flex><span><span style=color:#75715e>//100
</span></span></span><span style=display:flex><span><span style=color:#75715e>//300
</span></span></span><span style=display:flex><span><span style=color:#75715e>//200（过了1秒后）
</span></span></span></code></pre></div><p>执行第1行，打印100，</p><p>执行setTimeout后，传入setTimeout函数会被暂存起来，不会立即执行（单线程的特点，不能同时干两件事），</p><p>执行最后一行，打印300，</p><p>待所有程序执行完，处于空闲状态时，会马上查看有没有暂存起来的要执行的函数，</p><p>发现暂存起来的setTimeout中的函数无需等待时间，就立即发过来执行。</p><h3 id=题目-2>题目<a hidden class=anchor aria-hidden=true href=#题目-2>#</a></h3><p>1、同步和异步的区别是什么？分别举一个同步和异步的例子。</p><p>同步会阻塞代码执行，而异步不会。</p><p>Alert是同步，setTimeout是异步。</p><p>2、一个关于setTimeout的笔试题：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>setTimeout</span>(<span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>},<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>setTimeout</span>(<span style=color:#66d9ef>function</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>4</span>)
</span></span><span style=display:flex><span>},<span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#ae81ff>5</span>)
</span></span></code></pre></div><p>输出：1 3 5 2 4</p><p>3、前端使用异步的场景有哪些？</p><p>都需要等待，单线程，为了不阻塞，只能等待。</p><h3 id=其他知识>其他知识<a hidden class=anchor aria-hidden=true href=#其他知识>#</a></h3><h4 id=日期>日期<a hidden class=anchor aria-hidden=true href=#日期>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>Date.<span style=color:#a6e22e>now</span>()			<span style=color:#75715e>//当前时间的毫秒数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>dt</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date()
</span></span><span style=display:flex><span><span style=color:#a6e22e>dt</span>.<span style=color:#a6e22e>getTime</span>() 		<span style=color:#75715e>//获取毫秒数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>dt</span>.<span style=color:#a6e22e>getFullYear</span>() 	<span style=color:#75715e>//年
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>dt</span>.<span style=color:#a6e22e>getMonth</span>() 		<span style=color:#75715e>//月（0~11）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>dt</span>.<span style=color:#a6e22e>getDate</span>()		<span style=color:#75715e>//日（0~31）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>dt</span>.<span style=color:#a6e22e>getHours</span>()		<span style=color:#75715e>//小时（0~23）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>dt</span>.<span style=color:#a6e22e>getMinutes</span>()		<span style=color:#75715e>//分钟（0~59）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>dt</span>.<span style=color:#a6e22e>getSeconds</span>()		<span style=color:#75715e>//秒	 (0~59)
</span></span></span></code></pre></div><h4 id=math>Math<a hidden class=anchor aria-hidden=true href=#math>#</a></h4><p>获取随机数Math.random()</p><h4 id=数组api>数组API<a hidden class=anchor aria-hidden=true href=#数组api>#</a></h4><p>forEach 遍历所有元素：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>]
</span></span><span style=display:flex><span><span style=color:#75715e>//参数为 元素,下标，元素在前，下标在后
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>item</span>, <span style=color:#a6e22e>index</span>){
</span></span><span style=display:flex><span>    <span style=color:#75715e>//遍历数组中的所有元素
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>index</span>,<span style=color:#a6e22e>item</span>)
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>every 判断所有元素是否都符合条件：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>]
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>every</span>(<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>item</span>, <span style=color:#a6e22e>index</span>){
</span></span><span style=display:flex><span>    <span style=color:#75715e>//用来判断所有的数组元素，是否都满足一个条件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>item</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>lt</span>; <span style=color:#ae81ff>2</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>result</span>)	<span style=color:#75715e>//false
</span></span></span></code></pre></div><p>some 判断是否有至少一个元素符合条件：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>]
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>some</span>(<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>item</span>, <span style=color:#a6e22e>index</span>){
</span></span><span style=display:flex><span>    <span style=color:#75715e>//用来判断所有的数组元素，只要有一个满足条件即可
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>item</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>lt</span>; <span style=color:#ae81ff>2</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>result</span>)	<span style=color:#75715e>//true
</span></span></span></code></pre></div><p>sort 排序</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>5</span>]
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>sort</span>(<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>b</span>){
</span></span><span style=display:flex><span>	<span style=color:#75715e>//从小到大排序
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>arr2</span>)
</span></span></code></pre></div><p>map 对元素重新组装，生成新数组</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>4</span>]
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>map</span>(<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>item</span>,<span style=color:#a6e22e>index</span>){
</span></span><span style=display:flex><span>    <span style=color:#75715e>//将元素重新组装，并返回
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;&amp;lt;b&amp;gt;&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>item</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;&amp;lt;/b&amp;gt;&#39;</span>
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>arr2</span>)
</span></span></code></pre></div><p>filter 过滤符合条件的元素：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>]
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>filter</span>(<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>item</span>,<span style=color:#a6e22e>index</span>){
</span></span><span style=display:flex><span>    <span style=color:#75715e>//通过某一个条件过滤数组
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>item</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>gt</span>;<span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>arr2</span>)
</span></span></code></pre></div><h4 id=对象api>对象API<a hidden class=anchor aria-hidden=true href=#对象api>#</a></h4><p>for in</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>obj</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#ae81ff>100</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#ae81ff>200</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>z</span><span style=color:#f92672>:</span><span style=color:#ae81ff>300</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>key</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>obj</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>hasOwnProperty</span>(<span style=color:#a6e22e>key</span>)){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>key</span>,<span style=color:#a6e22e>obj</span>[<span style=color:#a6e22e>key</span>])
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=题目-3>题目<a hidden class=anchor aria-hidden=true href=#题目-3>#</a></h4><p>1、获取2017-06-10格式的日期</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>formatDate</span>(<span style=color:#a6e22e>dt</span>){
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#a6e22e>dt</span>){
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>dt</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date()
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>year</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dt</span>.<span style=color:#a6e22e>getFullYear</span>()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>month</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dt</span>.<span style=color:#a6e22e>getMonth</span>() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>date</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dt</span>.<span style=color:#a6e22e>getDate</span>()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>month</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>lt</span>; <span style=color:#ae81ff>10</span>){
</span></span><span style=display:flex><span>		<span style=color:#75715e>//强制类型转换
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#a6e22e>month</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>month</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>date</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>lt</span>; <span style=color:#ae81ff>10</span>){
</span></span><span style=display:flex><span>		<span style=color:#75715e>//强制类型转换
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#a6e22e>date</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>date</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#75715e>//强制类型转换
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>year</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>month</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>date</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>dt</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date()
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>formatDate</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>formatDate</span>(<span style=color:#a6e22e>dt</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>formatDate</span>)
</span></span></code></pre></div><p>2、获取随机数，要求是长度一致的字符串格式</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>random</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>random</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>random</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>random</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;0000000000&#39;</span><span style=color:#75715e>//后面加上10个零
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>random</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>random</span>.<span style=color:#a6e22e>slice</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>random</span>)
</span></span></code></pre></div><p>3、写一个能遍历对象和数组的通用forEach函数</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>//对数组:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;a&#39;</span>,<span style=color:#e6db74>&#39;b&#39;</span>,<span style=color:#e6db74>&#39;c&#39;</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>arr</span>,<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>item</span>,<span style=color:#a6e22e>index</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>index</span>,<span style=color:#a6e22e>item</span>)
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#75715e>//对对象:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>obj</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;one&#39;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#39;a&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;two&#39;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#39;b&#39;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>obj</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>key</span>,<span style=color:#a6e22e>obj</span>[<span style=color:#a6e22e>key</span>])
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//组合后:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>obj</span>,<span style=color:#a6e22e>fn</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>key</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>obj</span> <span style=color:#66d9ef>instanceof</span> Array){
</span></span><span style=display:flex><span>        <span style=color:#75715e>//准确判断是不是数组
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>item</span>,<span style=color:#a6e22e>index</span>){
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fn</span>(<span style=color:#a6e22e>index</span>,<span style=color:#a6e22e>item</span>)
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span>{
</span></span><span style=display:flex><span>        <span style=color:#75715e>//不是数组就是对象
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>obj</span>){
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fn</span>(<span style=color:#a6e22e>key</span>,<span style=color:#a6e22e>obj</span>[<span style=color:#a6e22e>key</span>])
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=javascriptjs-web-api上>[JavaScript]JS WEB API（上）<a hidden class=anchor aria-hidden=true href=#javascriptjs-web-api上>#</a></h1><h3 id=js-web-api>JS WEB API<a hidden class=anchor aria-hidden=true href=#js-web-api>#</a></h3><p>Ecma262 + w3c</p><h3 id=dom操作>DOM操作<a hidden class=anchor aria-hidden=true href=#dom操作>#</a></h3><p>1、DOM是哪种基本的数据结构？树</p><p>2、DOM操作的常用API有哪些？</p><p>获取DOM节点，以及节点的property和attribute</p><p>获取父节点，获取子节点</p><p>新增节点，删除节点</p><p>3、DOM节点的attr和property有何区别？</p><p>Property只是一个js对象的属性的修改</p><p>Attribute是对html标签属性的修改</p><h3 id=dom本质>DOM本质<a hidden class=anchor aria-hidden=true href=#dom本质>#</a></h3><p>浏览器把拿到的HTML代码，结构化一个浏览器能识别并且js可操作的一个模型而已。</p><h3 id=dom节点操作>DOM节点操作<a hidden class=anchor aria-hidden=true href=#dom节点操作>#</a></h3><h4 id=获取dom节点>获取DOM节点<a hidden class=anchor aria-hidden=true href=#获取dom节点>#</a></h4><p><img loading=lazy src=/images/js_basic5.png alt>
prototype
获取的是js对象
<img loading=lazy src=/images/js_basic6.png alt>
attribute
获取的是DOM节点
<img loading=lazy src=/images/js_basic7.png alt></p><h4 id=dom结构操作>DOM结构操作<a hidden class=anchor aria-hidden=true href=#dom结构操作>#</a></h4><p>新增节点
<img loading=lazy src=/images/js_basic8.png alt>
获取父元素、获取子元素、删除节点
<img loading=lazy src=/images/js_basic9.png alt></p><h3 id=bom操作>BOM操作<a hidden class=anchor aria-hidden=true href=#bom操作>#</a></h3><p>Navigator、Screen
<img loading=lazy src=/images/js_basic10.png alt>
Location、History
<img loading=lazy src=/images/js_basic11.png alt></p><p>1、如何检测浏览器的类型？</p><p>Navigator</p><p>2、拆解url的各部分</p><p>location</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://windypath.com/posts/why_vue_router_back/><span class=title>« 上一页</span><br><span>Vue的路由配置及手动改地址栏为啥又跳转回来？？</span></a>
<a class=next href=https://windypath.com/posts/mybatis_text_not_queried/><span class=title>下一页 »</span><br><span>[Mybatis]逆向工程中Select语句查询不出‘TEXT’字段</span></a></nav></footer></article></main><footer class=footer><span>Windypath 风萧古道 <strong>For Chinese Software</strong>. <a href=https://beian.miit.gov.cn/>闽ICP备15016446号-3</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
.</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>