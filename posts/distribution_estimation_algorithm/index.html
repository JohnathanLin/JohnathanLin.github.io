<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[算法]分布估计算法 - 一种求解多维背包问题的混合分布估计算法_王凌 | 风萧古道 - 勤学苦练，年复一年</title><meta name=keywords content><meta name=description content="作业要求实现《一种求解多维背包问题的混合分布估计算法_王凌》
百度学术路径
写这篇文章主要是因为，这论文的数据集实在是找不到，但最后我还是找到了。
CSDN下载地址
然后我还是实现了该论文的算法，虽然感觉还是有错，而且结果并不是很好看，但我就是要厚脸皮发出来给大家嘲笑。
我实现的是SENTO2.DAT，最佳值为8722。
package eda2; import java.io.BufferedReader; import java.io.BufferedWriter; import java.io.File; import java.io.FileInputStream; import java.io.FileWriter; import java.io.InputStreamReader; import java.io.IOException; import java.util.ArrayList; import java.util.Collections; import java.util.Comparator; import java.util.HashMap; import java.util.HashSet; import java.util.List; import java.util.Map; import java.util.Random; import java.util.Set; import java.util.Map.Entry; public class eda { private int N;//最佳个体数 private int s;//搜索时的 private int Y;//初始步长 private int M;//种群规模 private double alpha;//学习因子 private int n;//物体个数 private double []p;//概率向量 private int[][] population; private int[][] popValue; private int bagNum;//维度(背包数) private int []bagCapacity; //核重 private int [][]r;//物体在不同维度上的价值 第一个 维度 第二个 维度值 private int []weigh; private int []popWeigh; private Map<Integer,Integer> collection; //10 2 50 40 0."><meta name=author content="JohnathanLin"><link rel=canonical href=https://windypath.com/posts/distribution_estimation_algorithm/><link crossorigin=anonymous href=/assets/css/stylesheet.min.48a18943c2fc15c38a372b8dde1f5e5dc0bc64fa6cb90f5a817d2f8c76b7f3ae.css integrity="sha256-SKGJQ8L8FcOKNyuN3h9eXcC8ZPpsuQ9agX0vjHa3864=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://windypath.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://windypath.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://windypath.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://windypath.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://windypath.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="[算法]分布估计算法 - 一种求解多维背包问题的混合分布估计算法_王凌"><meta property="og:description" content="作业要求实现《一种求解多维背包问题的混合分布估计算法_王凌》
百度学术路径
写这篇文章主要是因为，这论文的数据集实在是找不到，但最后我还是找到了。
CSDN下载地址
然后我还是实现了该论文的算法，虽然感觉还是有错，而且结果并不是很好看，但我就是要厚脸皮发出来给大家嘲笑。
我实现的是SENTO2.DAT，最佳值为8722。
package eda2; import java.io.BufferedReader; import java.io.BufferedWriter; import java.io.File; import java.io.FileInputStream; import java.io.FileWriter; import java.io.InputStreamReader; import java.io.IOException; import java.util.ArrayList; import java.util.Collections; import java.util.Comparator; import java.util.HashMap; import java.util.HashSet; import java.util.List; import java.util.Map; import java.util.Random; import java.util.Set; import java.util.Map.Entry; public class eda { private int N;//最佳个体数 private int s;//搜索时的 private int Y;//初始步长 private int M;//种群规模 private double alpha;//学习因子 private int n;//物体个数 private double []p;//概率向量 private int[][] population; private int[][] popValue; private int bagNum;//维度(背包数) private int []bagCapacity; //核重 private int [][]r;//物体在不同维度上的价值 第一个 维度 第二个 维度值 private int []weigh; private int []popWeigh; private Map<Integer,Integer> collection; //10 2 50 40 0."><meta property="og:type" content="article"><meta property="og:url" content="https://windypath.com/posts/distribution_estimation_algorithm/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-12-18T22:36:13+08:00"><meta property="article:modified_time" content="2017-12-18T22:36:13+08:00"><meta property="og:site_name" content="Windypath"><meta name=twitter:card content="summary"><meta name=twitter:title content="[算法]分布估计算法 - 一种求解多维背包问题的混合分布估计算法_王凌"><meta name=twitter:description content="作业要求实现《一种求解多维背包问题的混合分布估计算法_王凌》
百度学术路径
写这篇文章主要是因为，这论文的数据集实在是找不到，但最后我还是找到了。
CSDN下载地址
然后我还是实现了该论文的算法，虽然感觉还是有错，而且结果并不是很好看，但我就是要厚脸皮发出来给大家嘲笑。
我实现的是SENTO2.DAT，最佳值为8722。
package eda2; import java.io.BufferedReader; import java.io.BufferedWriter; import java.io.File; import java.io.FileInputStream; import java.io.FileWriter; import java.io.InputStreamReader; import java.io.IOException; import java.util.ArrayList; import java.util.Collections; import java.util.Comparator; import java.util.HashMap; import java.util.HashSet; import java.util.List; import java.util.Map; import java.util.Random; import java.util.Set; import java.util.Map.Entry; public class eda { private int N;//最佳个体数 private int s;//搜索时的 private int Y;//初始步长 private int M;//种群规模 private double alpha;//学习因子 private int n;//物体个数 private double []p;//概率向量 private int[][] population; private int[][] popValue; private int bagNum;//维度(背包数) private int []bagCapacity; //核重 private int [][]r;//物体在不同维度上的价值 第一个 维度 第二个 维度值 private int []weigh; private int []popWeigh; private Map<Integer,Integer> collection; //10 2 50 40 0."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://windypath.com/posts/"},{"@type":"ListItem","position":2,"name":"[算法]分布估计算法 - 一种求解多维背包问题的混合分布估计算法_王凌","item":"https://windypath.com/posts/distribution_estimation_algorithm/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[算法]分布估计算法 - 一种求解多维背包问题的混合分布估计算法_王凌","name":"[算法]分布估计算法 - 一种求解多维背包问题的混合分布估计算法_王凌","description":"作业要求实现《一种求解多维背包问题的混合分布估计算法_王凌》\n百度学术路径\n写这篇文章主要是因为，这论文的数据集实在是找不到，但最后我还是找到了。\nCSDN下载地址\n然后我还是实现了该论文的算法，虽然感觉还是有错，而且结果并不是很好看，但我就是要厚脸皮发出来给大家嘲笑。\n我实现的是SENTO2.DAT，最佳值为8722。\npackage eda2; import java.io.BufferedReader; import java.io.BufferedWriter; import java.io.File; import java.io.FileInputStream; import java.io.FileWriter; import java.io.InputStreamReader; import java.io.IOException; import java.util.ArrayList; import java.util.Collections; import java.util.Comparator; import java.util.HashMap; import java.util.HashSet; import java.util.List; import java.util.Map; import java.util.Random; import java.util.Set; import java.util.Map.Entry; public class eda { private int N;//最佳个体数 private int s;//搜索时的 private int Y;//初始步长 private int M;//种群规模 private double alpha;//学习因子 private int n;//物体个数 private double []p;//概率向量 private int[][] population; private int[][] popValue; private int bagNum;//维度(背包数) private int []bagCapacity; //核重 private int [][]r;//物体在不同维度上的价值 第一个 维度 第二个 维度值 private int []weigh; private int []popWeigh; private Map\u0026lt;Integer,Integer\u0026gt; collection; //10 2 50 40 0.","keywords":[],"articleBody":"作业要求实现《一种求解多维背包问题的混合分布估计算法_王凌》\n百度学术路径\n写这篇文章主要是因为，这论文的数据集实在是找不到，但最后我还是找到了。\nCSDN下载地址\n然后我还是实现了该论文的算法，虽然感觉还是有错，而且结果并不是很好看，但我就是要厚脸皮发出来给大家嘲笑。\n我实现的是SENTO2.DAT，最佳值为8722。\npackage eda2; import java.io.BufferedReader; import java.io.BufferedWriter; import java.io.File; import java.io.FileInputStream; import java.io.FileWriter; import java.io.InputStreamReader; import java.io.IOException; import java.util.ArrayList; import java.util.Collections; import java.util.Comparator; import java.util.HashMap; import java.util.HashSet; import java.util.List; import java.util.Map; import java.util.Random; import java.util.Set; import java.util.Map.Entry; public class eda { private int N;//最佳个体数 private int s;//搜索时的 private int Y;//初始步长 private int M;//种群规模 private double alpha;//学习因子 private int n;//物体个数 private double []p;//概率向量 private int[][] population; private int[][] popValue; private int bagNum;//维度(背包数) private int []bagCapacity; //核重 private int [][]r;//物体在不同维度上的价值 第一个 维度 第二个 维度值 private int []weigh; private int []popWeigh; private Map\u003cInteger,Integer\u003e collection; //10 2 50 40 0.1 public eda(int N,int s,int Y,int M,double alpha){ this.N = N; this.s = s; this.Y = Y; this.M = M; this.alpha = alpha; } //初始化读取数据 public void init(String filename)throws IOException{ //这里用来存放用于排序的Map，键为下标，值为权重和 collection = new HashMap\u003cInteger,Integer\u003e(); //读取文件内容所需要的两个参数，strbuff读取一行的内容， //strcol数组存储被空格键切割后的字符串 String strbuff; String []strcol; //将要读取的行数 int line; //读取数据的工具data初始化 BufferedReader data = new BufferedReader(new InputStreamReader( new FileInputStream(filename))); //读取第一行，背包数bagNum 和物体个数n strbuff = data.readLine(); strcol = strbuff.split(\" \"); bagNum = Integer.valueOf(strcol[0]); n = Integer.valueOf(strcol[1]); //利用这两个数字初始化将要用到的数组 p = new double[n]; population = new int[M][n]; r = new int[bagNum][n]; bagCapacity = new int[bagNum]; popValue = new int[M][bagNum]; weigh = new int[n]; popWeigh = new int[M]; //文件中的第二部分为物体对应权重表 //找到行数有多少行 if(n % 10 == 0){ line = n / 10; }else{ line = n / 10 + 1; } int weighIndex = 0; for(int l = 0;l \u003c line;l++){ strbuff = data.readLine(); strcol = strbuff.split(\" \"); for(int index = 0;index \u003c strcol.length;index++){ weigh[weighIndex] = Integer.valueOf(strcol[index]); weighIndex++; } } //文件第三部分为背包容量大小表 if(bagNum % 10 == 0){ line = bagNum / 10; }else{ line = bagNum / 10 + 1; } int bagIndex = 0; for(int l = 0;l \u003c line;l++){ strbuff = data.readLine(); strcol = strbuff.split(\" \"); for(int index = 0;index \u003c strcol.length;index++){ bagCapacity[bagIndex] = Integer.valueOf(strcol[index]); bagIndex++; } } //文件的第四部分为，各背包的维度值（有很多，两层循环呢） if(n % 10 == 0){ line = n / 10; }else{ line = n / 10 + 1; } for(int b = 0;b \u003c bagNum;b++){ int thingIndex = 0; for(int l = 0;l \u003c line;l++){ strbuff = data.readLine(); strcol = strbuff.split(\" \"); for(int index = 0;index \u003c strcol.length;index++){ r[b][thingIndex] = Integer.valueOf(strcol[index]); thingIndex++; } } } data.close(); } //Step1.初始化概率向量p(x) private void initP(){ // System.out.println(\"Step1.初始化概率向量p(x)\"); for(int i = 0;i \u003c n;i++){ p[i] = 0.5; } } //Step2.对p(x)进行随机采样，产生M个个体 private void sampling(){ // System.out.println(\"Step2.对p(x)进行随机采样，产生M个个体\"); Random R = new Random(); for(int i = 0;i \u003c M;i++){ for(int j = 0;j \u003c n;j++){ if(R.nextDouble() \u003c p[j]){ population[i][j] = 1; }else{ population[i][j] = 0; } } } } //修复不可行解，计算适应值 private void repairAndCalculate(){ // System.out.println(\"修复不可行解，计算适应值\"); //对每个个体实施遍历 for(int i = 0;i \u003c M;i++){ //每个个体对应bagNum个维度 for(int b = 0;b \u003c bagNum;b++){ //每个维度的值求和 popValue[i][b] = 0; for(int j = 0;j \u003c n;j++){ //x * r popValue[i][b] += population[i][j] * r[b][j]; } //如果在某个维度上非法，则将某些物体扔掉 int index = 0; while(popValue[i][b] \u003e bagCapacity[b]){ if(population[i][index] == 1){ population[i][index] = 0; popValue[i][b] -= r[b][index]; } index++; } } //补维度值，趋近最优 //从后往前遍历物体 for(int j = n - 1;j \u003e= 0;j--){ //如果没被选上，则尝试选上它，观察是否会超过某个维度， //如果通过，则加上去。 if(population[i][j] == 0){ boolean ok = true; for(int b = 0;b \u003c bagNum;b++){ //非法 if(bagCapacity[b] \u003c popValue[i][b] + r[b][j]){ ok = false; break; } } if(ok == true){ for(int b = 0;b \u003c bagNum;b++){ popValue[i][b] += r[b][j]; } } } } //权重求和 popWeigh[i] = 0; for(int j = 0;j \u003c n;j++){ if(population[i][j] == 1){ popWeigh[i] += weigh[j]; } } collection.put(new Integer(i),new Integer(popWeigh[i])); } } private void repair(int i){ //System.out.println(\"修复第\"+i+\"行\"); for(int b = 0;b \u003c bagNum;b++){ //每个维度的值求和 popValue[i][b] = 0; for(int j = 0;j \u003c n;j++){ //x * r popValue[i][b] += population[i][j] * r[b][j]; } //如果在某个维度上非法，则将某些物体扔掉 int index = 0; while(popValue[i][b] \u003e bagCapacity[b]){ if(population[i][index] == 1){ population[i][index] = 0; popValue[i][b] -= r[b][index]; } index++; } } //补维度值，趋近最优 //从后往前遍历物体 for(int j = n - 1;j \u003e= 0;j--){ //如果没被选上，则尝试选上它，观察是否会超过某个维度， //如果通过，则加上去。 if(population[i][j] == 0){ boolean ok = true; for(int b = 0;b \u003c bagNum;b++){ //非法 if(bagCapacity[b] \u003c popValue[i][b] + r[b][j]){ ok = false; break; } } if(ok == true){ for(int b = 0;b \u003c bagNum;b++){ popValue[i][b] += r[b][j]; } } } } } private void choose(){ // System.out.println(\"选择新解\"); List\u003cMap.Entry\u003cInteger,Integer\u003e\u003e list = new ArrayList\u003cMap.Entry\u003cInteger,Integer\u003e\u003e(collection.entrySet()); collection.clear(); Collections.sort(list,new Comparator\u003cMap.Entry\u003cInteger,Integer\u003e\u003e() { //降序排序 @Override public int compare(Entry\u003cInteger, Integer\u003e o1, Entry\u003cInteger, Integer\u003e o2) { return o2.getValue().compareTo(o1.getValue()); } }); int [][]tempPop = new int[N][n]; int index = 0; for(Map.Entry\u003cInteger, Integer\u003e mapping : list){ if(index \u003c N){ for(int i = 0;i \u003c n;i++){ tempPop[index][i] = population[mapping.getKey().intValue()][i]; } index++; }else{ break; } } for(int i = 0;i \u003c N;i++){ for(int j = 0;j \u003c n;j++){ population[i][j] = tempPop[i][j]; } } } private void updateProbability(){ for(int j = 0;j \u003c n;j++){ int bags = 0; for(int i = 0;i \u003c N;i++){ if(population[i][j] == 1){ bags++; } } p[j] = ((1 - alpha)*p[j])+(alpha * ((double)bags / N)); } } private void bestSelect(){ // System.out.println(\"查找第一行\"); Random R = new Random(); int one = 0,zero = 0; Set\u003cInteger\u003e integers = new HashSet\u003cInteger\u003e(); while(true){ int id = R.nextInt(n); if(!integers.contains(new Integer(id))){ // System.out.println(\"未存在\"+id); if(population[0][id] == 0){ population[0][id] = 1; if(zero \u003c (s+1)) zero++; integers.add(new Integer(id)); }else{ population[0][id] = 0; if(one \u003c s){ one++; } integers.add(new Integer(id)); } } //s个从1到0 s+1个从0到1 if(one == s \u0026\u0026 zero == (s+1)){ break; } } repair(0); } public int getWeigh(int i){ int theWeigh = 0; for(int j = 0;j \u003c n;j++){ if(population[0][j] == 1){ theWeigh += weigh[j]; } } return theWeigh; } public void print(){ System.out.println(bagNum + \" \"+n); for(int i = 0;i \u003c n;i++){ System.out.print(weigh[i]+\" \"); if((i+1) % 10 == 0){ System.out.println(); } } for(int i = 0;i \u003c bagNum;i++){ System.out.print(bagCapacity[i]+\" \"); if((i+1) % 10 == 0){ System.out.println(); } } for(int b = 0;b \u003c bagNum;b++){ for(int j = 0;j \u003c n;j++){ System.out.print(r[b][j] + \" \"); if((j+1) % 10 == 0){ System.out.println(); } } if(n % 10 != 0){ System.out.println(); } } } public void start(String filename,int endTimes) throws IOException{ BufferedWriter writer = new BufferedWriter( new FileWriter(new File(filename))); initP(); int maxWeigh = 0; for(int time = 0;time \u003c endTimes;time++){ sampling(); repairAndCalculate(); choose(); int nowWeigh = getWeigh(0); if(maxWeigh \u003c nowWeigh){ maxWeigh = nowWeigh; } writer.write(\"第\"+(time+1)+\"次时最佳\"+maxWeigh); writer.newLine(); for(int i = 0;i \u003c 50+(time/20);i++){ bestSelect(); } updateProbability(); } writer.close(); } public static void main(String[] args) throws IOException { //10 2 50 40 0.1 eda e = new eda(10,2,50,40,0.1); e.init(\"d://SENTO2.DAT\"); e.start(\"d://result.txt\",20000); } } 最后我实现的结果大概在8400到8600之间。\n实验结果截图： 结果一般，但还是收获良多。本次主要是提供数据集的下载。谢谢大家。\n如对代码有疑惑可以前往 联系我们 和我交流，评论已经关闭，首页置顶的帖子不要理。\n","wordCount":"1012","inLanguage":"en","datePublished":"2017-12-18T22:36:13+08:00","dateModified":"2017-12-18T22:36:13+08:00","author":{"@type":"Person","name":"JohnathanLin"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://windypath.com/posts/distribution_estimation_algorithm/"},"publisher":{"@type":"Organization","name":"风萧古道 - 勤学苦练，年复一年","logo":{"@type":"ImageObject","url":"https://windypath.com/%3Clink%20/%20abs%20url%3E"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://windypath.com/ accesskey=h title="Windypath (Alt + H)">Windypath</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://windypath.com/about/ title=About><span>About</span></a></li><li><a href=https://windypath.com/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://windypath.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://windypath.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://windypath.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://windypath.com/>Home</a>&nbsp;»&nbsp;<a href=https://windypath.com/posts/>Posts</a></div><h1 class=post-title>[算法]分布估计算法 - 一种求解多维背包问题的混合分布估计算法_王凌</h1><div class=post-meta><span title='2017-12-18 22:36:13 +0800 +0800'>December 18, 2017</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;JohnathanLin</div></header><div class=post-content><p>作业要求实现《一种求解多维背包问题的混合分布估计算法_王凌》</p><p><a href="http://xueshu.baidu.com/s?wd=paperuri:(43e8c4d78e8a6d2f44bc6cf5f5724c68)&filter=sc_long_sign&sc_ks_para=q%3D%E4%B8%80%E7%A7%8D%E6%B1%82%E8%A7%A3%E5%A4%9A%E7%BB%B4%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E7%9A%84%E6%B7%B7%E5%90%88%E5%88%86%E5%B8%83%E4%BC%B0%E8%AE%A1%E7%AE%97%E6%B3%95&tn=SE_baiduxueshu_c1gjeupa&ie=utf-8&sc_us=17828901901562222937">百度学术路径</a></p><p>写这篇文章主要是因为，这论文的数据集实在是找不到，但最后我还是找到了。</p><p><a href=http://download.csdn.net/download/sinat_35989435/10163694>CSDN下载地址</a></p><p>然后我还是实现了该论文的算法，虽然感觉还是有错，而且结果并不是很好看，但我就是要厚脸皮发出来给大家嘲笑。</p><p>我实现的是SENTO2.DAT，最佳值为8722。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>package</span> eda2<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.io.BufferedReader<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.io.BufferedWriter<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.io.File<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.io.FileInputStream<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.io.FileWriter<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.io.InputStreamReader<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.io.IOException<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.ArrayList<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Collections<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Comparator<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.HashMap<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.HashSet<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.List<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Map<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Random<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Set<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Map.Entry<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>eda</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> N<span style=color:#f92672>;</span><span style=color:#75715e>//最佳个体数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> s<span style=color:#f92672>;</span><span style=color:#75715e>//搜索时的
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> Y<span style=color:#f92672>;</span><span style=color:#75715e>//初始步长
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> M<span style=color:#f92672>;</span><span style=color:#75715e>//种群规模
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>double</span> alpha<span style=color:#f92672>;</span><span style=color:#75715e>//学习因子
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> n<span style=color:#f92672>;</span><span style=color:#75715e>//物体个数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>double</span> <span style=color:#f92672>[]</span>p<span style=color:#f92672>;</span><span style=color:#75715e>//概率向量
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[][]</span> population<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[][]</span> popValue<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> bagNum<span style=color:#f92672>;</span><span style=color:#75715e>//维度(背包数)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> <span style=color:#f92672>[]</span>bagCapacity<span style=color:#f92672>;</span> <span style=color:#75715e>//核重
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> <span style=color:#f92672>[][]</span>r<span style=color:#f92672>;</span><span style=color:#75715e>//物体在不同维度上的价值   第一个  维度    第二个    维度值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> <span style=color:#f92672>[]</span>weigh<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> <span style=color:#f92672>[]</span>popWeigh<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Map<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span>Integer<span style=color:#f92672>&gt;</span> collection<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//10 2 50 40 0.1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>eda</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> N<span style=color:#f92672>,</span><span style=color:#66d9ef>int</span> s<span style=color:#f92672>,</span><span style=color:#66d9ef>int</span> Y<span style=color:#f92672>,</span><span style=color:#66d9ef>int</span> M<span style=color:#f92672>,</span><span style=color:#66d9ef>double</span> alpha<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>N</span> <span style=color:#f92672>=</span> N<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> s<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Y</span> <span style=color:#f92672>=</span> Y<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>M</span> <span style=color:#f92672>=</span> M<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>alpha</span> <span style=color:#f92672>=</span> alpha<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//初始化读取数据
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>init</span><span style=color:#f92672>(</span>String filename<span style=color:#f92672>)</span><span style=color:#66d9ef>throws</span> IOException<span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>//这里用来存放用于排序的Map，键为下标，值为权重和
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        collection <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashMap<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span>Integer<span style=color:#f92672>&gt;();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>//读取文件内容所需要的两个参数，strbuff读取一行的内容，
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>       <span style=color:#75715e>//strcol数组存储被空格键切割后的字符串
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        String strbuff<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        String <span style=color:#f92672>[]</span>strcol<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>//将要读取的行数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>int</span> line<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>//读取数据的工具data初始化
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        BufferedReader data <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedReader<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> InputStreamReader<span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>new</span> FileInputStream<span style=color:#f92672>(</span>filename<span style=color:#f92672>)));</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>//读取第一行，背包数bagNum 和物体个数n
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        strbuff <span style=color:#f92672>=</span> data<span style=color:#f92672>.</span><span style=color:#a6e22e>readLine</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        strcol <span style=color:#f92672>=</span> strbuff<span style=color:#f92672>.</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        bagNum <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(</span>strcol<span style=color:#f92672>[</span>0<span style=color:#f92672>]);</span>
</span></span><span style=display:flex><span>        n <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(</span>strcol<span style=color:#f92672>[</span>1<span style=color:#f92672>]);</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>//利用这两个数字初始化将要用到的数组
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        p <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>double</span><span style=color:#f92672>[</span>n<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        population <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>M<span style=color:#f92672>][</span>n<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        r <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>bagNum<span style=color:#f92672>][</span>n<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        bagCapacity <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>bagNum<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        popValue <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>M<span style=color:#f92672>][</span>bagNum<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        weigh <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>n<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        popWeigh <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>M<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>//文件中的第二部分为物体对应权重表
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>//找到行数有多少行
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>n <span style=color:#f92672>%</span> 10 <span style=color:#f92672>==</span> 0<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>            line <span style=color:#f92672>=</span> n <span style=color:#f92672>/</span> 10<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span><span style=color:#66d9ef>else</span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            line <span style=color:#f92672>=</span> n <span style=color:#f92672>/</span> 10 <span style=color:#f92672>+</span> 1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> weighIndex <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>l <span style=color:#f92672>&lt;</span> line<span style=color:#f92672>;</span>l<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            strbuff <span style=color:#f92672>=</span> data<span style=color:#f92672>.</span><span style=color:#a6e22e>readLine</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            strcol <span style=color:#f92672>=</span> strbuff<span style=color:#f92672>.</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> index <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>index <span style=color:#f92672>&lt;</span> strcol<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>;</span>index<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                weigh<span style=color:#f92672>[</span>weighIndex<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 
</span></span><span style=display:flex><span>                        Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(</span>strcol<span style=color:#f92672>[</span>index<span style=color:#f92672>]);</span>
</span></span><span style=display:flex><span>                weighIndex<span style=color:#f92672>++;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>//文件第三部分为背包容量大小表
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>bagNum <span style=color:#f92672>%</span> 10 <span style=color:#f92672>==</span> 0<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>            line <span style=color:#f92672>=</span> bagNum <span style=color:#f92672>/</span> 10<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span><span style=color:#66d9ef>else</span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            line <span style=color:#f92672>=</span> bagNum <span style=color:#f92672>/</span> 10 <span style=color:#f92672>+</span> 1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> bagIndex <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>l <span style=color:#f92672>&lt;</span> line<span style=color:#f92672>;</span>l<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            strbuff <span style=color:#f92672>=</span> data<span style=color:#f92672>.</span><span style=color:#a6e22e>readLine</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            strcol <span style=color:#f92672>=</span> strbuff<span style=color:#f92672>.</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> index <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>index <span style=color:#f92672>&lt;</span> strcol<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>;</span>index<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                bagCapacity<span style=color:#f92672>[</span>bagIndex<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(</span>strcol<span style=color:#f92672>[</span>index<span style=color:#f92672>]);</span>
</span></span><span style=display:flex><span>                bagIndex<span style=color:#f92672>++;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>//文件的第四部分为，各背包的维度值（有很多，两层循环呢）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>n <span style=color:#f92672>%</span> 10 <span style=color:#f92672>==</span> 0<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>            line <span style=color:#f92672>=</span> n <span style=color:#f92672>/</span> 10<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span><span style=color:#66d9ef>else</span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            line <span style=color:#f92672>=</span> n <span style=color:#f92672>/</span> 10 <span style=color:#f92672>+</span> 1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>b <span style=color:#f92672>&lt;</span> bagNum<span style=color:#f92672>;</span>b<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> thingIndex <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>l <span style=color:#f92672>&lt;</span> line<span style=color:#f92672>;</span>l<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                strbuff <span style=color:#f92672>=</span> data<span style=color:#f92672>.</span><span style=color:#a6e22e>readLine</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>                strcol <span style=color:#f92672>=</span> strbuff<span style=color:#f92672>.</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> index <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>index <span style=color:#f92672>&lt;</span> strcol<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>;</span>index<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                    r<span style=color:#f92672>[</span>b<span style=color:#f92672>][</span>thingIndex<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>valueOf</span><span style=color:#f92672>(</span>strcol<span style=color:#f92672>[</span>index<span style=color:#f92672>]);</span>
</span></span><span style=display:flex><span>                    thingIndex<span style=color:#f92672>++;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        data<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Step1.初始化概率向量p(x)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>initP</span><span style=color:#f92672>(){</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//    System.out.println(&#34;Step1.初始化概率向量p(x)&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>i <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span>i<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            p<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 0<span style=color:#f92672>.</span><span style=color:#a6e22e>5</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Step2.对p(x)进行随机采样，产生M个个体
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sampling</span><span style=color:#f92672>(){</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//    System.out.println(&#34;Step2.对p(x)进行随机采样，产生M个个体&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        Random R <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Random<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>i <span style=color:#f92672>&lt;</span> M<span style=color:#f92672>;</span>i<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>j <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span>j<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>R<span style=color:#f92672>.</span><span style=color:#a6e22e>nextDouble</span><span style=color:#f92672>()</span> <span style=color:#f92672>&lt;</span> p<span style=color:#f92672>[</span>j<span style=color:#f92672>]){</span>
</span></span><span style=display:flex><span>                    population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span><span style=color:#66d9ef>else</span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                    population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//修复不可行解，计算适应值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>repairAndCalculate</span><span style=color:#f92672>(){</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//    System.out.println(&#34;修复不可行解，计算适应值&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>//对每个个体实施遍历
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>i <span style=color:#f92672>&lt;</span> M<span style=color:#f92672>;</span>i<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>//每个个体对应bagNum个维度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>b <span style=color:#f92672>&lt;</span> bagNum<span style=color:#f92672>;</span>b<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>//每个维度的值求和
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>j <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span>j<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>//x * r
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                    popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>+=</span> population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>*</span> r<span style=color:#f92672>[</span>b<span style=color:#f92672>][</span>j<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>//如果在某个维度上非法，则将某些物体扔掉
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                <span style=color:#66d9ef>int</span> index <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>while</span><span style=color:#f92672>(</span>popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> bagCapacity<span style=color:#f92672>[</span>b<span style=color:#f92672>]){</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>index<span style=color:#f92672>]</span> <span style=color:#f92672>==</span> 1<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                        population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>index<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                        popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>-=</span> r<span style=color:#f92672>[</span>b<span style=color:#f92672>][</span>index<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                    index<span style=color:#f92672>++;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>//补维度值，趋近最优
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#75715e>//从后往前遍历物体
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> n <span style=color:#f92672>-</span> 1<span style=color:#f92672>;</span>j <span style=color:#f92672>&gt;=</span> 0<span style=color:#f92672>;</span>j<span style=color:#f92672>--){</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>//如果没被选上，则尝试选上它，观察是否会超过某个维度，
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                <span style=color:#75715e>//如果通过，则加上去。
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>==</span> 0<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>boolean</span> ok <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>b <span style=color:#f92672>&lt;</span> bagNum<span style=color:#f92672>;</span>b<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                        <span style=color:#75715e>//非法
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                        <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>bagCapacity<span style=color:#f92672>[</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>&lt;</span> popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>+</span> r<span style=color:#f92672>[</span>b<span style=color:#f92672>][</span>j<span style=color:#f92672>]){</span>
</span></span><span style=display:flex><span>                            ok <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>ok <span style=color:#f92672>==</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>b <span style=color:#f92672>&lt;</span> bagNum<span style=color:#f92672>;</span>b<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                            popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>+=</span> r<span style=color:#f92672>[</span>b<span style=color:#f92672>][</span>j<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#75715e>//权重求和
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            popWeigh<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>j <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span>j<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>==</span> 1<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                    popWeigh<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>+=</span> weigh<span style=color:#f92672>[</span>j<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            collection<span style=color:#f92672>.</span><span style=color:#a6e22e>put</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Integer<span style=color:#f92672>(</span>i<span style=color:#f92672>),</span><span style=color:#66d9ef>new</span> Integer<span style=color:#f92672>(</span>popWeigh<span style=color:#f92672>[</span>i<span style=color:#f92672>]));</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>repair</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//System.out.println(&#34;修复第&#34;+i+&#34;行&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>b <span style=color:#f92672>&lt;</span> bagNum<span style=color:#f92672>;</span>b<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>//每个维度的值求和
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>j <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span>j<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>//x * r
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>+=</span> population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>*</span> r<span style=color:#f92672>[</span>b<span style=color:#f92672>][</span>j<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>//如果在某个维度上非法，则将某些物体扔掉
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>int</span> index <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span><span style=color:#f92672>(</span>popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>&gt;</span> bagCapacity<span style=color:#f92672>[</span>b<span style=color:#f92672>]){</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>index<span style=color:#f92672>]</span> <span style=color:#f92672>==</span> 1<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                    population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>index<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                    popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>-=</span> r<span style=color:#f92672>[</span>b<span style=color:#f92672>][</span>index<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                index<span style=color:#f92672>++;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>//补维度值，趋近最优
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>//从后往前遍历物体
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> n <span style=color:#f92672>-</span> 1<span style=color:#f92672>;</span>j <span style=color:#f92672>&gt;=</span> 0<span style=color:#f92672>;</span>j<span style=color:#f92672>--){</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>//如果没被选上，则尝试选上它，观察是否会超过某个维度，
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#75715e>//如果通过，则加上去。
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>==</span> 0<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>boolean</span> ok <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>b <span style=color:#f92672>&lt;</span> bagNum<span style=color:#f92672>;</span>b<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>//非法
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                    <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>bagCapacity<span style=color:#f92672>[</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>&lt;</span> popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>+</span> r<span style=color:#f92672>[</span>b<span style=color:#f92672>][</span>j<span style=color:#f92672>]){</span>
</span></span><span style=display:flex><span>                        ok <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>ok <span style=color:#f92672>==</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>b <span style=color:#f92672>&lt;</span> bagNum<span style=color:#f92672>;</span>b<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                        popValue<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>b<span style=color:#f92672>]</span> <span style=color:#f92672>+=</span> r<span style=color:#f92672>[</span>b<span style=color:#f92672>][</span>j<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>choose</span><span style=color:#f92672>(){</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//    System.out.println(&#34;选择新解&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>.</span><span style=color:#a6e22e>Entry</span><span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span>Integer<span style=color:#f92672>&gt;&gt;</span> list <span style=color:#f92672>=</span> 
</span></span><span style=display:flex><span>                 <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>.</span><span style=color:#a6e22e>Entry</span><span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span>Integer<span style=color:#f92672>&gt;&gt;(</span>collection<span style=color:#f92672>.</span><span style=color:#a6e22e>entrySet</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        collection<span style=color:#f92672>.</span><span style=color:#a6e22e>clear</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        Collections<span style=color:#f92672>.</span><span style=color:#a6e22e>sort</span><span style=color:#f92672>(</span>list<span style=color:#f92672>,</span><span style=color:#66d9ef>new</span> Comparator<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>.</span><span style=color:#a6e22e>Entry</span><span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span>Integer<span style=color:#f92672>&gt;&gt;()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>             <span style=color:#75715e>//降序排序
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>             <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>             <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>compare</span><span style=color:#f92672>(</span>Entry<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span> Integer<span style=color:#f92672>&gt;</span> o1<span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>                                   Entry<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span> Integer<span style=color:#f92672>&gt;</span> o2<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                 <span style=color:#66d9ef>return</span> o2<span style=color:#f92672>.</span><span style=color:#a6e22e>getValue</span><span style=color:#f92672>().</span><span style=color:#a6e22e>compareTo</span><span style=color:#f92672>(</span>o1<span style=color:#f92672>.</span><span style=color:#a6e22e>getValue</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>             <span style=color:#f92672>}</span>       
</span></span><span style=display:flex><span>         <span style=color:#f92672>});</span>
</span></span><span style=display:flex><span>         <span style=color:#66d9ef>int</span> <span style=color:#f92672>[][]</span>tempPop <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>N<span style=color:#f92672>][</span>n<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>         <span style=color:#66d9ef>int</span> index <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>         <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span>Map<span style=color:#f92672>.</span><span style=color:#a6e22e>Entry</span><span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>,</span> Integer<span style=color:#f92672>&gt;</span> mapping    <span style=color:#f92672>:</span> list<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>             <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>index <span style=color:#f92672>&lt;</span> N<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                 <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>i <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span>i<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                     tempPop<span style=color:#f92672>[</span>index<span style=color:#f92672>][</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> population<span style=color:#f92672>[</span>mapping<span style=color:#f92672>.</span><span style=color:#a6e22e>getKey</span><span style=color:#f92672>().</span><span style=color:#a6e22e>intValue</span><span style=color:#f92672>()][</span>i<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>                 <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                 index<span style=color:#f92672>++;</span>
</span></span><span style=display:flex><span>             <span style=color:#f92672>}</span><span style=color:#66d9ef>else</span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                 <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>             <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>         <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>         <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>i <span style=color:#f92672>&lt;</span> N<span style=color:#f92672>;</span>i<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>             <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>j <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span>j<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                 population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> tempPop<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>j<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>             <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>         <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>updateProbability</span><span style=color:#f92672>(){</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>j <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span>j<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> bags <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>i <span style=color:#f92672>&lt;</span> N<span style=color:#f92672>;</span>i<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>population<span style=color:#f92672>[</span>i<span style=color:#f92672>][</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>==</span> 1<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                    bags<span style=color:#f92672>++;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            p<span style=color:#f92672>[</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>((</span>1 <span style=color:#f92672>-</span> alpha<span style=color:#f92672>)*</span>p<span style=color:#f92672>[</span>j<span style=color:#f92672>])+(</span>alpha <span style=color:#f92672>*</span> <span style=color:#f92672>((</span><span style=color:#66d9ef>double</span><span style=color:#f92672>)</span>bags <span style=color:#f92672>/</span> N<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>bestSelect</span><span style=color:#f92672>(){</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//    System.out.println(&#34;查找第一行&#34;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        Random R <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Random<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> one <span style=color:#f92672>=</span> 0<span style=color:#f92672>,</span>zero <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        Set<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> integers <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashSet<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span><span style=color:#f92672>(</span><span style=color:#66d9ef>true</span><span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> id <span style=color:#f92672>=</span> R<span style=color:#f92672>.</span><span style=color:#a6e22e>nextInt</span><span style=color:#f92672>(</span>n<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span><span style=color:#f92672>(!</span>integers<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Integer<span style=color:#f92672>(</span>id<span style=color:#f92672>))){</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>//    System.out.println(&#34;未存在&#34;+id);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>population<span style=color:#f92672>[</span>0<span style=color:#f92672>][</span>id<span style=color:#f92672>]</span> <span style=color:#f92672>==</span> 0<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                    population<span style=color:#f92672>[</span>0<span style=color:#f92672>][</span>id<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>zero <span style=color:#f92672>&lt;</span> <span style=color:#f92672>(</span>s<span style=color:#f92672>+</span>1<span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>                        zero<span style=color:#f92672>++;</span>
</span></span><span style=display:flex><span>                    integers<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Integer<span style=color:#f92672>(</span>id<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span><span style=color:#66d9ef>else</span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                    population<span style=color:#f92672>[</span>0<span style=color:#f92672>][</span>id<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>one <span style=color:#f92672>&lt;</span> s<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                        one<span style=color:#f92672>++;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>                    
</span></span><span style=display:flex><span>                    integers<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Integer<span style=color:#f92672>(</span>id<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>//s个从1到0  s+1个从0到1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>one <span style=color:#f92672>==</span> s <span style=color:#f92672>&amp;&amp;</span> zero <span style=color:#f92672>==</span> <span style=color:#f92672>(</span>s<span style=color:#f92672>+</span>1<span style=color:#f92672>)){</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        repair<span style=color:#f92672>(</span>0<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>getWeigh</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> theWeigh <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>j <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span>j<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>population<span style=color:#f92672>[</span>0<span style=color:#f92672>][</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>==</span> 1<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                theWeigh <span style=color:#f92672>+=</span> weigh<span style=color:#f92672>[</span>j<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> theWeigh<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>print</span><span style=color:#f92672>(){</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>bagNum <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>+</span>n<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>i <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span>i<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>weigh<span style=color:#f92672>[</span>i<span style=color:#f92672>]+</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span><span style=color:#f92672>((</span>i<span style=color:#f92672>+</span>1<span style=color:#f92672>)</span> <span style=color:#f92672>%</span> 10 <span style=color:#f92672>==</span> 0<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>i <span style=color:#f92672>&lt;</span> bagNum<span style=color:#f92672>;</span>i<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>bagCapacity<span style=color:#f92672>[</span>i<span style=color:#f92672>]+</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span><span style=color:#f92672>((</span>i<span style=color:#f92672>+</span>1<span style=color:#f92672>)</span> <span style=color:#f92672>%</span> 10 <span style=color:#f92672>==</span> 0<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>b <span style=color:#f92672>&lt;</span> bagNum<span style=color:#f92672>;</span>b<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>j <span style=color:#f92672>&lt;</span> n<span style=color:#f92672>;</span>j<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>r<span style=color:#f92672>[</span>b<span style=color:#f92672>][</span>j<span style=color:#f92672>]</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span><span style=color:#f92672>((</span>j<span style=color:#f92672>+</span>1<span style=color:#f92672>)</span> <span style=color:#f92672>%</span> 10 <span style=color:#f92672>==</span> 0<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>n <span style=color:#f92672>%</span> 10 <span style=color:#f92672>!=</span> 0<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>start</span><span style=color:#f92672>(</span>String filename<span style=color:#f92672>,</span><span style=color:#66d9ef>int</span> endTimes<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException<span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        BufferedWriter writer <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedWriter<span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>                              <span style=color:#66d9ef>new</span> FileWriter<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span>filename<span style=color:#f92672>)));</span>
</span></span><span style=display:flex><span>        initP<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> maxWeigh <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> time <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>time <span style=color:#f92672>&lt;</span> endTimes<span style=color:#f92672>;</span>time<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>            sampling<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            repairAndCalculate<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            choose<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nowWeigh <span style=color:#f92672>=</span> getWeigh<span style=color:#f92672>(</span>0<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span><span style=color:#f92672>(</span>maxWeigh <span style=color:#f92672>&lt;</span> nowWeigh<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>                maxWeigh <span style=color:#f92672>=</span> nowWeigh<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>            writer<span style=color:#f92672>.</span><span style=color:#a6e22e>write</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;第&#34;</span><span style=color:#f92672>+(</span>time<span style=color:#f92672>+</span>1<span style=color:#f92672>)+</span><span style=color:#e6db74>&#34;次时最佳&#34;</span><span style=color:#f92672>+</span>maxWeigh<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            writer<span style=color:#f92672>.</span><span style=color:#a6e22e>newLine</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>i <span style=color:#f92672>&lt;</span> 50<span style=color:#f92672>+(</span>time<span style=color:#f92672>/</span>20<span style=color:#f92672>);</span>i<span style=color:#f92672>++){</span>
</span></span><span style=display:flex><span>                bestSelect<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>    
</span></span><span style=display:flex><span>            updateProbability<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        writer<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>//10 2 50 40 0.1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        eda e <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> eda<span style=color:#f92672>(</span>10<span style=color:#f92672>,</span>2<span style=color:#f92672>,</span>50<span style=color:#f92672>,</span>40<span style=color:#f92672>,</span>0<span style=color:#f92672>.</span><span style=color:#a6e22e>1</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        e<span style=color:#f92672>.</span><span style=color:#a6e22e>init</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;d://SENTO2.DAT&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        e<span style=color:#f92672>.</span><span style=color:#a6e22e>start</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;d://result.txt&#34;</span><span style=color:#f92672>,</span>20000<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>最后我实现的结果大概在8400到8600之间。</p><p>实验结果截图：
<img loading=lazy src=/images/algorithm_estimate1.png alt>
<img loading=lazy src=/images/algorithm_estimate2.png alt>
结果一般，但还是收获良多。本次主要是提供数据集的下载。谢谢大家。</p><p>如对代码有疑惑可以前往 联系我们 和我交流，评论已经关闭，首页置顶的帖子不要理。</p></div><footer class=post-footer><nav class=paginav><a class=prev href=https://windypath.com/posts/spring_learning_notes/><span class=title>« Prev Page</span><br><span>[Spring]Spring学习笔记</span></a>
<a class=next href=https://windypath.com/posts/why_i_build_blog/><span class=title>Next Page »</span><br><span>[日常]我做独立博客的原因</span></a></nav></footer></article></main><footer class=footer><span>Windypath 风萧古道 <a href=https://beian.miit.gov.cn/>闽ICP备15016446号-3</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>